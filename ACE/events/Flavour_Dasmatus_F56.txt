namespace = flavor_dasmatus

country_event = { #hidden startup event
	id = flavor_dasmatus.0
	title = flavor_dasmatus.0.t
	desc = flavor_dasmatus.0.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	hidden = yes
	option = {
		name = flavor_dasmatus.0.a
			ROOT = {
				set_variable = {
					which = F56_slave_sites
					value = 0
				}
				set_variable = {
					which = F56_major_slave_sites
					value = 0
				}
			}
			keruhar_area = {
					LIMIT = {
						NOT = {
							province_id = 2913
						}
					}
				add_province_modifier = {
					name = F56_raid_blocker
					duration = 1825
				}
			}
		}
	}

country_event = { #Adensigu
	id = flavor_dasmatus.1
	title = flavor_dasmatus.1.t
	desc = flavor_dasmatus.1.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.1.a
		define_advisor = {
			type = naval_reformer
			skill = 1
			discount = yes
		}
		define_advisor = {
			type = army_reformer
			skill = 1
			discount = yes
		}
		Dasmazar = {
			add_permanent_claim = ROOT
		}
	}
}
country_event = { #desperation
	id = flavor_dasmatus.2
	title = flavor_dasmatus.2.t
	desc = flavor_dasmatus.2.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.2.a
		add_legitimacy = -20
		add_treasury = 20
		add_country_modifier = {
			name = F56_desperation_demands_consequences
			duration = 3650
		}
	}
}
country_event = { #coup
	id = flavor_dasmatus.3
	title = flavor_dasmatus.3.t
	desc = flavor_dasmatus.3.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.3.a
		hidden_effect = {
			set_variable = {
				which = x
				value = 
			}
		}
		define_ruler = {
			name = "Dasma II"
			adm = 4
			dip = 2
			mil = 5
			age = 17
		
			claim = 75
			male = yes
			dynasty = "szal-Maqet"
		}
		add_ruler_personality = mage_personality
		add_country_modifier = {
			name = F56_necessary_coup_modifier
			duration = 3650
		}
		remove_heir = { allow_new_heir = yes }
	}
	option = {
		name = flavor_dasmatus.3.b
		add_prestige = 5
	}	
}
country_event = { #Fuck Sark
	id = flavor_dasmatus.4
	title = flavor_dasmatus.4.t
	desc = flavor_dasmatus.4.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.4.a
		R02 = {
			add_treasury = 50
		}
		4400 = {
			cede_province = F56
		}
		F56 = {
			add_treasury = -50
		}
		break_alliance = R02
	}
}

country_event = { #Against odds
	id = flavor_dasmatus.5
	title = flavor_dasmatus.5.t
	desc = flavor_dasmatus.5.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.5.a
		vassalize = F79
		F46 = {
			every_owned_province = {
				add_permanent_claim = F56
			}
		}	
		F49 = {
			every_owned_province = {
				add_permanent_claim = F56
			}
		}	
		generic_start_purge = { race = gnollish }
		ROOT = { set_country_flag = power_ascendant_event_completed }
	}
}

country_event = { #nothing to lose
	id = flavor_dasmatus.6
	title = flavor_dasmatus.6.t
	desc = flavor_dasmatus.6.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.6.a
		declare_war_with_cb = {
			who = F29
			casus_belli = cb_destroy_zokka
		}
	}
}

country_event = { #Jadd placeholder
	id = flavor_dasmatus.7
	title = flavor_dasmatus.7.t
	desc = flavor_dasmatus.7.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.7.a
		add_stability_or_adm_power = yes
		add_prestige = 20
	}
	option = {
		name = flavor_dasmatus.7.b
		custom_tooltip = F56_jadd_legion_integration
		hidden_effect = {
			set_country_flag = jadd_legions_integrated
			set_global_flag = maqet_jadd_religious_conversion_allowed
			clr_country_flag = jadd_mercs_allowed
		}
	}
}

country_event = { #Liberated mainland
	id = flavor_dasmatus.8
	title = flavor_dasmatus.8.t
	desc = flavor_dasmatus.8.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.8.a
		add_legitimacy = 10
		add_treasury = 20
		add_war_exhaustion = -1
	}
}

country_event = { #Sihrusam reformed
	id = flavor_dasmatus.9
	title = flavor_dasmatus.9.t
	desc = flavor_dasmatus.9.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.9.a
		add_prestige = 10
		add_manpower = 4
		create_alliance = F79
		F79 = {
			join_all_offensive_wars_of = ROOT
		}
	}
}

country_event = { #Zokka collapse
	id = flavor_dasmatus.10
	title = flavor_dasmatus.10.t
	desc = flavor_dasmatus.10.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.10.a
		add_prestige = 10
		add_war_exhaustion = -1
		F29 = {
			add_stability = -1
			every_owned_province = {
				limit = {
					area = keruhar_area
				}
				cede_province = F56
			}
			release = F87
			F87 = {
				build_to_forcelimit = {
					infantry = 0.75
				}
			}
			release = F45
			F45 = {
				build_to_forcelimit = {
					infantry = 0.75
				}
			}
			if = {
				limit = {
					F79 = {
						exists = no
					}
				}
				release = F79
				F79 = {
					build_to_forcelimit = {
						infantry = 0.75
					}
				}
			}
			if = {
				limit = {
					F49 = {
						exists = no
					}
				}
				release = F49
				F49 = {
					build_to_forcelimit = {
						infantry = 0.75
					}
				}
			}
			every_owned_province = {
				limit = {
					area = far_east_salahad_area
				}
				cede_province = F46
			}
			every_owned_province = {
				limit = {
					OR = {
						culture = masnish
						culture = desert_elf
					}
				}
				cede_province = F79
			}
		}
	}
}

country_event = { #Dasmatus victory
	id = flavor_dasmatus.11
	title = flavor_dasmatus.11.t
	desc = flavor_dasmatus.11.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.11.a
		add_legitimacy = 10
		add_prestige = 10
		add_war_exhaustion = -1
		add_stability_or_adm_power = yes
		create_alliance = F79
		add_trust = {
			who = F79
			value = 30
			mutual = yes
		}
		add_trust = {
			who = F87
			value = 20
			mutual = yes
		}
		add_trust = {
			who = F45
			value = 20
			mutual = yes
		}
		add_trust = {
			who = F49
			value = 10
			mutual = yes
		}
		add_trust = {
			who = F46
			value = 10
			mutual = yes
		}
		F79 = {
			change_religion = old_bulwari_sun_cult
		}
	}
}

country_event = { #Long odds
	id = flavor_dasmatus.12
	title = flavor_dasmatus.12.t
	desc = flavor_dasmatus.12.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.12.a
		5434 = {
			infantry = F56
			infantry = F56
			infantry = F56
			infantry = F56
			infantry = F56
		}
		define_general = {
			shock = 3
			fire = 2
			manuever = 2
			siege = 2
			name = "Ahaz szal-Maran"
		}
		add_country_modifier = {
			name = F56_coordinated_revolt 
			duration = 3650
		}
	}
}

country_event = { #Dawn
	id = flavor_dasmatus.13
	title = flavor_dasmatus.13.t
	desc = flavor_dasmatus.13.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.13.a
		add_stability_or_adm_power = yes
		add_prestige = 50
		add_splendor = 100
		override_country_name = Dasmazar
	}
}
country_event = { #Hope Dies
	id = flavor_dasmatus.14
	title = flavor_dasmatus.14.t
	desc = flavor_dasmatus.14.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.14.a
		add_stability = -1
		add_war_exhaustion = 3
		hidden_effect = {
			 set_country_flag = dasmatus_zokka_despair_event_has_fired
			swap_non_generic_missions = yes
		}
	}
}

country_event = { #Hope lives
	id = flavor_dasmatus.15
	title = flavor_dasmatus.15.t
	desc = flavor_dasmatus.15.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.15.a
		add_stability_or_adm_power = yes
		hidden_effect = {
			swap_non_generic_missions = yes
		}
	}
}

country_event = { #Mercos
	id = flavor_dasmatus.16
	title = flavor_dasmatus.16.t
	desc = flavor_dasmatus.16.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.16.a
		set_country_flag = jadd_mercs_allowed
	}
}
country_event = {
	id = flavor_dasmatus.17
	title = flavor_dasmatus.17.t
	desc = flavor_dasmatus.17.d
	picture = CITY_DEVELOPMENT_eventPicture
	goto = target_province
	
	is_triggered_only = yes
	
	trigger = {
		sur_mountains = {
			country_or_non_sovereign_subject_holds = ROOT
			culture_group = gnollish
		}
		has_country_flag = F56_sadnatu_allowed
	}
	
	immediate = {
		hidden_effect = {
			sur_mountains = {
				limit = {
					country_or_non_sovereign_subject_holds = ROOT
					culture_group = gnollish
				}
				save_event_target_as = target_province
			}
		}
	}
	
	#
	option = {
		name = flavor_dasmatus.17.a
		event_target:target_province = {
			hidden_effect = { remove_racial_majority = { race = gnollish } } # so no minorities left when culture changes
			random_list = {
				1 = {
					random_list = {
						33 = { add_base_tax = 1 }
						33 = { add_base_production = 1 }
						33 = { add_base_manpower = 1 }
					}
				}
				2 = {
				}
			}
			change_culture = sadnatu
			change_religion = ROOT
		}
	}
}
country_event = { #Mercos
	id = flavor_dasmatus.18
	title = flavor_dasmatus.18.t
	desc = flavor_dasmatus.18.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.18.a
		add_country_modifier = {
			name = F56_harpy_hunters
			duration = -1
		}
	}
	option = {
		name = flavor_dasmatus.18.b
		add_country_modifier = {
			name = F56_harpy_auxiliaries
		}
	}
}
country_event = { #Pilgramage
	id = flavor_dasmatus.19
	title = flavor_dasmatus.19.t
	desc = flavor_dasmatus.19.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.19.a
		add_country_modifier = {
			name = F56_trial_sands
			duration = -1
		}
	}
}
country_event = { #Mercos
	id = flavor_dasmatus.20
	title = flavor_dasmatus.20.t
	desc = flavor_dasmatus.20.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.20.a
		add_country_modifier = {
			name = F56_magic_iron
			duration = -1
		}
	}
}
country_event = { #Mercos
	id = flavor_dasmatus.21
	title = flavor_dasmatus.21.t
	desc = flavor_dasmatus.21.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.21.a
		every_owned_province = {
			limit = {
				culture_group = gnollish
			}
			add_devastation = 75
			change_culture = maqeti
			change_religion = ROOT
			add_base_tax = -2
			add_base_production = -2
			add_base_manpower = -2
			kill_units = {
				who = ROOT
				type = infantry
				amount = 1	
			}
		}
	}
}
country_event = { #Mercos
	id = flavor_dasmatus.22
	title = flavor_dasmatus.22.t
	desc = flavor_dasmatus.22.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.22.a
		add_country_modifier = {
			name = F56_tides_turned
			duration = 3650
		}
		if = {
			limit = {
				OR = {
					medium_tolerance_gnollish_race_trigger = yes
					high_tolerance_gnollish_race_trigger = yes
				}
			}
			add_accepted_culture = suncrown_gnoll
			every_owned_province = {
				limit = {
					culture = pyreclaw_gnoll
				}
				change_culture = suncrown_gnoll
			}
		}
		else = {
			every_owned_province = {
				limit = {
					culture = pyreclaw_gnoll
				}
				kill_units = {
					who = ROOT
					type = infantry
					amount = 1
				}
				change_culture = irsmahapan
				add_nationalism = -10
				add_devastation = 25
				add_base_manpower = 1
				add_base_production = -1
				add_base_tax = -1
			}
		}
	}
}
country_event = { #Mercos
	id = flavor_dasmatus.23
	title = flavor_dasmatus.23.t
	desc = flavor_dasmatus.23.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.23.a
		add_country_modifier = {
			name = F56_crisis_of_faith
			duration = 730
		}
		country_event = {
			id = flavor_dasmatus.24
			days = 30
			}
	}
}
country_event = { #Mercos
	id = flavor_dasmatus.24
	title = flavor_dasmatus.24.t
	desc = flavor_dasmatus.24.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.24.a
		set_country_flag = F56_redemption
		medium_increase_of_gnollish_tolerance_effect = yes
		add_legitimacy = -15
	}
	option = {
		name = flavor_dasmatus.24.b
		set_country_flag = F56_retribution
		large_decrease_of_gnollish_tolerance_effect = yes
		add_war_exhaustion = 2
	}
}
country_event = { #Mercos
	id = flavor_dasmatus.25
	title = flavor_dasmatus.25.t
	desc = flavor_dasmatus.25.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.25.a
		add_years_of_income = -0.5
		add_legitimacy = -25
		add_yearly_manpower = -1
		set_country_flag = F56_camps
		remove_country_modifier = F56_homeless_freedmen
	}
	option = {
		name = flavor_dasmatus.25.b
		add_years_of_income = -1
		add_yearly_manpower = -2
		set_country_flag = F56_cheap_housing
		remove_country_modifier = F56_homeless_freedmen
	}
	option = {
		name = flavor_dasmatus.25.c
		add_years_of_income = -2
		add_yearly_manpower = -5
		set_country_flag = F56_good_housing
		remove_country_modifier = F56_homeless_freedmen
	}
}
country_event = { #Mercos
	id = flavor_dasmatus.26
	title = flavor_dasmatus.26.t
	desc = flavor_dasmatus.26.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.26.a
		add_power_projection = {
			type = 10_permanent_power_projection
		}
	}
}
country_event = { #Mercos
	id = flavor_dasmatus.27
	title = flavor_dasmatus.27.t
	desc = flavor_dasmatus.27.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.27.a
		declare_war_with_cb = {
			casus_belli = cb_civ_vs_monster
			who = R04
		}
	}
}
country_event = { #Mercos
	id = flavor_dasmatus.28
	title = flavor_dasmatus.28.t
	desc = flavor_dasmatus.28.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.28.a
		add_prestige_or_monarch_power = {
			amount = 100
		}
		add_stability_or_adm_power = yes
		add_splendor = 300
	}
}
country_event = { #Mercos
	id = flavor_dasmatus.29
	title = flavor_dasmatus.29.t
	desc = flavor_dasmatus.29.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	trigger = {
		check_variable = {
			which = F56_slave_sites
			value = 1
		}
	}
	option = {
		name = flavor_dasmatus.29.a
		add_country_modifier = {
			name = F56_homeless_freedmen
			duration = -1
		}
		add_prestige = -50
		add_legitimacy = -20
	}
}
country_event = { #Mercos
	id = flavor_dasmatus.30
	title = flavor_dasmatus.30.t
	desc = flavor_dasmatus.30.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	trigger = {
		mission_completed = F56_the_revenge
		mission_completed = F56_new_development
	}
	option = {
		name = flavor_dasmatus.30.a
		set_country_flag = F56_bones
		add_stability = -2
		add_legitimacy = -50
	}
}
country_event = { #Mercos
	id = flavor_dasmatus.31
	title = flavor_dasmatus.31.t
	desc = flavor_dasmatus.31.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.31.a
		if = {
			limit = {has_country_flag = F56_camps }
			add_yearly_manpower = 0.25
			add_years_of_income = -0.05
		}
		else_if = {
			limit = { has_country_flag = F56_cheap_housing }
			add_yearly_manpower = 0.5
			add_years_of_income = -0.1
		}
		else_if = {
			limit = { has_country_flag = F56_good_housing }
			add_yearly_manpower = 0.75
			add_years_of_income = -0.25
		}
	}
}
province_event = { #Mercos
	id = flavor_dasmatus.32
	title = flavor_dasmatus.32.t
	desc = flavor_dasmatus.32.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.32.a
		change_trade_goods = unknown
		ROOT = {
			change_variable = {            
				which = F56_slave_sites
				value = 1
			}
			add_province_modifier = {
				name = F56_freed_slave_site
				duration = -1
			}
		}
	}
}
province_event = { #Mercos
	id = flavor_dasmatus.33
	title = flavor_dasmatus.33.t
	desc = flavor_dasmatus.33.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.33.a
		change_trade_goods = ivory
		add_devastation = 100
		add_base_manpower = -5
		add_base_tax = -5
		add_base_production = -5
		change_province_name = "Kamusaqu A�ru"
		5434 = {
			add_base_tax = 1
			add_base_production = 1
			add_base_manpower = 1
		}
		ROOT = { 
			change_variable = {            
				which = F56_slave_sites
				value = 1
			}
			change_variable = {            
				which = F56_major_slave_sites
				value = 1
			}
			add_province_modifier = {
				name = F56_freed_slave_site
				duration = -1
			}
		}
	}
}
province_event = { #Mercos
	id = flavor_dasmatus.34
	title = flavor_dasmatus.34.t
	desc = flavor_dasmatus.34.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.34.a
		change_trade_goods = salt
		add_devastation = 20
		add_unrest = -5
		ROOT = { 
			change_variable = {            
				which = F56_slave_sites
				value = 1
			}
			change_variable = {            
				which = F56_major_slave_sites
				value = 1
			}
			add_province_modifier = {
				name = F56_freed_slave_site
				duration = -1
			}
		}
	}
}
province_event = { #Mercos
	id = flavor_dasmatus.35
	title = flavor_dasmatus.35.t
	desc = flavor_dasmatus.35.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.35.a
		change_trade_goods = incense
		add_devastation = 20
		add_unrest = -5
		ROOT = { 
			change_variable = {            
				which = F56_slave_sites
				value = 1
			}
			change_variable = {            
				which = F56_major_slave_sites
				value = 1
			}
			add_province_modifier = {
				name = F56_freed_slave_site
				duration = -1
			}
		}
	}
}
province_event = { #Mercos
	id = flavor_dasmatus.36
	title = flavor_dasmatus.36.t
	desc = flavor_dasmatus.36.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.36.a
		change_trade_goods = gems
		add_devastation = 20
		add_unrest = -5
		ROOT = { 
			change_variable = {            
				which = F56_slave_sites
				value = 1
			}
			change_variable = {            
				which = F56_major_slave_sites
				value = 1
			}
			add_province_modifier = {
				name = F56_freed_slave_site
				duration = -1
			}
		}
	}
}
province_event = { #Mercos
	id = flavor_dasmatus.37
	title = flavor_dasmatus.37.t
	desc = flavor_dasmatus.37.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.37.a
		change_trade_goods = coffee
		add_devastation = 20
		add_unrest = -5
		ROOT = { 
			change_variable = {            
				which = F56_slave_sites
				value = 1
			}
			change_variable = {            
				which = F56_major_slave_sites
				value = 1
			}
			add_province_modifier = {
				name = F56_freed_slave_site
				duration = -1
			}
		}
	}
}
province_event = { #Mercos
	id = flavor_dasmatus.38
	title = flavor_dasmatus.38.t
	desc = flavor_dasmatus.38.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.38.a
		change_trade_goods = iron
		add_devastation = 20
		add_unrest = -5
		ROOT = { 
			change_variable = {            
				which = F56_slave_sites
				value = 1
			}
			change_variable = {            
				which = F56_major_slave_sites
				value = 1
			}
			add_province_modifier = {
				name = F56_freed_slave_site
				duration = -1
			}
		}
	}
}
province_event = { #Mercos
	id = flavor_dasmatus.39
	title = flavor_dasmatus.39.t
	desc = flavor_dasmatus.39.desc
	picture = COUNTRY_COLLAPSE_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_dasmatus.39.a
		change_trade_goods = ivory
		add_devastation = 50
		add_unrest = -5
		add_base_manpower = -1
		add_base_tax = -1
		add_base_production = -1
		ROOT = { 
			change_variable = {            
				which = F56_slave_sites
				value = 1
			}
			change_variable = {            
				which = F56_major_slave_sites
				value = 1
			}
			add_province_modifier = {
				name = F56_freed_slave_site
				duration = -1
			}
		}
	}
}