namespace = custom_institution_growth_event

country_event = {
    id = custom_institution_growth_event.1
    title = custom_institution_growth_event.1.t
    desc = custom_institution_growth_event.1.d
    picture = GFX_evt_debate  # Vous pouvez remplacer par une autre image

    is_triggered_only = yes

    option = {
        name = custom_institution_growth_event.1.a
        #12 month of income
        add_years_of_income = -2
        capital_scope = {
            add_province_modifier = {
                name = institution_growth_boost_modifier
                duration = 1800
            }
        }

    }

    option = {
        name = custom_institution_growth_event.1.b
            add_adm_power = -150
            add_dip_power = -150
            add_mil_power = -150
            capital_scope = {
                add_province_modifier = {
                    name = institution_growth_boost_modifier
                    duration = 1530
                }
            }
    }

    option = {
        name = custom_institution_growth_event.1.c
        effect = {
            #nothing to go out of the menu
        }
    }
}

namespace = custom_edict_for_all_province_event

country_event = {
    id = custom_edict_for_all_province_event.1
    title = custom_edict_for_all_province_event.1.t
    desc = custom_edict_for_all_province_event.1.d
    picture = TRUMP_DECREE_eventPicture  # Vous pouvez remplacer par une autre image

    is_triggered_only = yes

    # Il y a beaucoup plus d'options dans Common\state_edicts\ pour les édits de province
    # Ici ne seront mis que les edict "Basiques"
    option = {
        name = custom_edict_for_all_province_event.1.a
        effect = {
            #nothing to go out of the menu
        }
    }
        option = {
        name = custom_edict_for_all_province_event.1.b
        every_owned_province = {
            limit = {
                is_state = yes
            }
            set_state_edict = revoke_state_edict # Remove all edicts
        }
    }
    option = {
        name = custom_edict_for_all_province_event.1.c
        every_owned_province = {
            limit = {
                is_state = yes
            }
            set_state_edict = edict_advancement_effort # +33% institution spread
        }
    }

    option = {
        name = custom_edict_for_all_province_event.1.e
        every_owned_province = {
            limit = {
                is_state = yes
            }
            set_state_edict = edict_centralization_effort # -0.03 monthly local autonomy
        }
    }

    option = {
        name = custom_edict_for_all_province_event.1.f
        every_owned_province = {
            limit = {
                is_state = yes
            }
            set_state_edict = edict_defensive_edict # +33% local defensiveness
        }
    }

    option = {
        name = custom_edict_for_all_province_event.1.g
        every_owned_province = {
            limit = {
                is_state = yes
            }
            set_state_edict = edict_encourage_development # -10% local development cost
        }
    }

    option = {
        name = custom_edict_for_all_province_event.1.h
        every_owned_province = {
            limit = {
                is_state = yes
            }
            set_state_edict = edict_protect_trade # +50% province trade power
        }
    }

    option = {
        name = custom_edict_for_all_province_event.1.i
        every_owned_province = {
            limit = {
                is_state = yes
            }
            set_state_edict = edict_religious_unity # +1% local missionary strength
        }
    }
    option = {
        name = custom_edict_for_all_province_event.1.j
        every_owned_province = {
            limit = {
                is_state = yes
            }
            set_state_edict = edict_promote_military_recruitment # +25% local manpower
        }
    }
    option = {
        trigger = {
            current_age = age_of_discovery
			has_government_attribute = unlock_special_state_edicts
        }
        name = custom_edict_for_all_province_event.1.k
        every_owned_province = {
            limit = {
                is_state = yes
            }
            set_state_edict = feudal_taxes_state_edict # +50% local tax modifier
        }
    }
    option = {
        trigger = {
			current_age = age_of_reformation
			has_government_attribute = unlock_special_state_edicts
		}
        name = custom_edict_for_all_province_event.1.l
        every_owned_province = {
            limit = {
                is_state = yes
            }
            set_state_edict = religious_tolerance_state_edict # local religious unity contributution -50%
        }
    }
    option = {
        trigger = {
            current_age = age_of_absolutism
			has_government_attribute = unlock_special_state_edicts
        }
        name = custom_edict_for_all_province_event.1.m
        every_owned_province = {
            limit = {
                is_state = yes
            }
            set_state_edict = state_integration_state_edict # -10 years of serpartism
        }
    }
    option = {
        trigger = {
            current_age = age_of_revolutions
			has_government_attribute = unlock_special_state_edicts
        }
        name = custom_edict_for_all_province_event.1.n
        every_owned_province = {
            limit = {
                is_state = yes
            }
            set_state_edict = urbanization_state_edict # +33% local good produced
        }
    }
}

namespace = custom_celmador_nimscodd_issue

country_event = {
    id = custom_celmador_nimscodd_issue.1
    title = custom_celmador_nimscodd_issue.1.t
    desc = custom_celmador_nimscodd_issue.1.d
    picture = GFX_evt_debate

    is_triggered_only = yes

    option = {
        name = custom_celmador_nimscodd_issue.1.a
        #céde oddcodd(198) à celmador contre du dev capital et des tunes
        # Transfert de la province
        198 = {
            # Si elle n'est pas déjà à Celmador, on transfère
            if = { 
                limit = { owner = { NOT = { tag = Z22 } } }        
                change_owner = Z22                                
            }
            cede_province = Z22
            add_core = Z22                                         
            remove_core = A06                                     
            clr_city = no                                          
        }

        # Compensation : développement dans la capitale de Nimscodd
        capital_scope = {
            add_base_tax = 2
            add_base_production = 2
            add_base_manpower = 1
        }

        # Compensation : transfert d'or (Celmador paie, Nimscodd reçoit)
        add_treasury = 200
        Z22 = { add_treasury = -200 }

        # Petite détente diplomatique & trêve
        add_truce_with = Z22
        Z22 = {
            add_opinion = { who = A06 modifier = positive_event_opinion } # nécessite un opinion modifier; sinon commente cette ligne
        }
        
        Z22 = { country_event = { id = custom_celmador_nimscodd_issue.2 } }
    }

    option = {
        name = custom_celmador_nimscodd_issue.1.b
        # Part en guerre contre Celmador pour l'île de Oddcodd

        Z22 = { country_event = { id = custom_celmador_nimscodd_issue.3 } }
    }
}

country_event = {
    id = custom_celmador_nimscodd_issue.2
    title = custom_celmador_nimscodd_issue.2.t
    desc = custom_celmador_nimscodd_issue.2.d
    picture = GFX_evt_trade_ports

    is_triggered_only = yes
    trigger = { tag = Z22 }   # Remplace par z22 si ton tag est en minuscules

    option = {
        name = custom_celmador_nimscodd_issue.2.a

        198 = {
            add_base_production = 2
            add_elven_minority_size_effect = yes
            add_province_modifier = {
                name = z22_storm_isles_trade
                duration = -1
            }
        }

        storm_isles_area = {
            add_nationalism = -5
        }

        696 = {
            add_gnomish_minority_size_effect = yes
        }
    }
}

country_event = {
    id = custom_celmador_nimscodd_issue.3
    title = custom_celmador_nimscodd_issue.3.t
    desc = custom_celmador_nimscodd_issue.3.d
    picture = GFX_evt_trade_ports

    is_triggered_only = yes
    trigger = { tag = Z22 }   # Remplace par z22 si ton tag est en minuscules

    option = {
        name = custom_celmador_nimscodd_issue.3.a

        198 = {
            add_permanent_claim = Z22
        }

        declare_war_with_cb = {
            who = A06
            casus_belli = cb_conquest
            war_goal_province = 198
        }
        
    }
    option = {
        name = custom_celmador_nimscodd_issue.3.b

        198 = {
            add_permanent_claim = Z22
        }
    }
}


namespace = custom_heir_boost

country_event = {
    id = custom_heir_boost.1
    title = custom_heir_boost.1.t
    desc = custom_heir_boost.1.d
    picture = GFX_evt_trade_ports

    trigger = { 
        has_country_flag = heir_boost_6
        has_heir = yes 
        AND = {
            NOT = { heir_adm = 6 }
            NOT = { heir_dip = 6 }
            NOT = { heir_mil = 6 }
        }
    }   

    option = {
        name = custom_heir_boost.1.a
		change_heir_adm = 6
        change_heir_dip = 6
        change_heir_mil = 6
    }
}

country_event = {
    id = custom_heir_boost.2
    title = custom_heir_boost.2.t
    desc = custom_heir_boost.2.d
    picture = GFX_evt_trade_ports

    trigger = { 
        has_country_flag = heir_boost_1_dip
        NOT = {has_heir_flag = heir_boost}
        has_heir = yes 
        NOT = { heir_dip = 6 }
    }   

    option = {
        name = custom_heir_boost.2.a
        change_heir_dip = 1
        set_heir_flag = heir_boost
    }
}