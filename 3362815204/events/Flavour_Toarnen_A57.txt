
namespace = flavor_toarnen

#startup event
country_event = {
	id = flavor_toarnen.1
	title = flavor_toarnen.1.t
	desc = flavor_toarnen.1.d
	picture = COUNTRY_COLLAPSE_eventPicture
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = A57
        NOT = {
			has_country_flag = toarnen_had_1356_uprising
		}
	}
	immediate = {
		
	}
	option = {
		name = flavor_toarnen.1.a
		tooltip = {
			set_estate_privilege = estate_burghers_toarnese_charters
		}
        hidden_effect = {
			set_country_flag = toarnen_had_1356_uprising
		}
	}
}

#The Royal Chess Contest, start event
country_event = {
	id = flavor_toarnen.2
	title = flavor_toarnen.2.t
	desc = flavor_toarnen.2.d
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

    option = {
		name = flavor_toarnen.2.a

		add_prestige = 10

		hidden_effect = {
            country_event = {
                id = flavor_toarnen.3
                days = 30
            }
		}
	}
} 

country_event = {
	id = flavor_toarnen.3
	title = flavor_toarnen.3.t
	desc = flavor_toarnen.3.d
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

    option = {
		name = flavor_toarnen.3.a

		increase_ruler_dip_effect = yes
	}
}

country_event = {
	id = flavor_toarnen.4
	title = flavor_toarnen.4.t
	desc = flavor_toarnen.4.d
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_toarnen.4.a
		add_country_modifier = {
			name = A57_expanding_chess_theory_mod
			duration = -1
		}
	}
}

country_event = {
	id = flavor_toarnen.5
	title = flavor_toarnen.5.t
	desc = flavor_toarnen.5.d
	picture = FEAST_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_toarnen.5.a	
		
		define_advisor = {
			type = commandant
			skill = 1
			discount = yes
		}

		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = 15
		}
	}
}

country_event = {
	id = flavor_toarnen.6
	title = flavor_toarnen.6.t
	desc = flavor_toarnen.6.d
	picture = wihgfx_FEMALE_RULER_eventPicture
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = flavor_toarnen.6.a
		trigger = {
			is_female = no
		}
		create_marriage = A87
		define_consort = {
			name = "Laurens"
			dynasty = "síl na Loop"
			age = 16
			female = yes
			adm = 4
			dip = 1
			mil = 4
			country_of_origin = A87
			culture = roilsardi
		}

		define_heir = {
			dynasty = "síl na Loop"
			age = 0
			male = yes
			change_adm = 1
			change_dip = 1
			change_mil = 1
			culture = roilsardi
		}
	}
    option = {
		name = flavor_toarnen.6.b
		trigger = {
			is_female = yes
		}
		create_marriage = A87
		define_consort = {
			name = "Maurise"
			dynasty = "síl na Loop"
			age = 20
			male = yes
			adm = 3
			dip = 4
			mil = 2
			country_of_origin = A87
			culture = roilsardi
		}

		define_heir = {
			dynasty = "síl na Loop"
			age = 0
			male = yes
			change_adm = 1
			change_dip = 1
			change_mil = 1
			culture = roilsardi
		}
	}
    option = {
		name = flavor_toarnen.6.c
		
		add_prestige = 20
		add_dip_power = 50	
	}
}

country_event = {
	id = flavor_toarnen.7
	title = flavor_toarnen.7.t
	desc = flavor_toarnen.7.d
	picture = BURGHER_ESTATE_UPSET_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_toarnen.7.a
		922 = {
			galley = ROOT
			galley = ROOT
			galley = ROOT
			galley = ROOT
			galley = ROOT
			galley = ROOT
		}
		remove_estate_privilege = estate_burghers_toarnese_charters
		set_estate_privilege = estate_burghers_toarnese_charters_2
		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = 10
		}
	}

	option = {
		name = flavor_toarnen.7.b
		change_estate_land_share = {
			estate = estate_burghers
			share = -5
		}
		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = -15
		}
	}
}

country_event = {
	id = flavor_toarnen.8
	title = flavor_toarnen.8.t
	desc = flavor_toarnen.8.d
	picture = SIEGE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_toarnen.8.a	
		every_owned_province = {
			limit = {
				is_core = A56
			}
			add_base_tax = -1
			add_base_production = -1
			add_base_manpower = -1
		}
		capital_scope = {
			add_base_tax = 2
			add_base_production = 2
			add_base_manpower = 2
		}
		add_treasury = 100
	}
	option = {
		name = flavor_toarnen.8.b
		add_prestige = 20
		every_owned_province = {
			add_devastation = -10
		}
		every_owned_province = {
			limit = {
				is_core = A56
			}
			add_local_autonomy = 10
			add_nationalism = -10
		}
	}
}

country_event = {
	id = flavor_toarnen.9
	title = flavor_toarnen.9.t
	desc = flavor_toarnen.9.d
	picture = DIPLOMACY_eventPicture
	
	is_triggered_only = yes
	hidden = yes

	option = {
		name = flavor_toarnen.9.a	
		A57 = {
			add_treasury = 100
		}
	}
}

country_event = {
	id = flavor_toarnen.11
	title = flavor_toarnen.11.t
	desc = flavor_toarnen.11.d
	picture = THE_COVENANT_eventPicture
	trigger = {
		has_country_flag = A57_corvurian_rebels_event
		NOT = { num_of_rebel_armies = 1 }
	}
	immediate = {
		clr_country_flag = A57_corvurian_rebels_event
	}
	option = {
		name = flavor_toarnen.11.a
		add_stability_or_adm_power = yes
		custom_tooltip = A57_corvurian_provinces_tt
		tooltip = {
			add_nationalism = -5
			add_province_modifier = {
				name = A57_corvurians_kneel
				duration = -1
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = { region = dostanor_region }
				add_nationalism = -5
				add_province_modifier = {
					name = A57_corvurians_kneel
					duration = -1
				}
			}
		}
	}
}

country_event = {
	id = flavor_toarnen.12
	title = flavor_toarnen.12.t
	desc = flavor_toarnen.12.d
	picture = IMPALED_SOLDIERS_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_toarnen.12.a
		67 = {
			add_devastation = 100
			change_culture = roilsardi
			add_base_tax = -10
			add_base_production = -10
			add_base_manpower = -10
		}
		add_adm_power = 100
		add_dip_power = 100
		add_mil_power = 100
		custom_tooltip = A57_golden_age_tt
		hidden_effect = {
			if = {
				limit = { has_dlc = "Mandate of Heaven" } 
				if = {
					limit = { in_golden_age = yes } 
					extend_golden_age = 600
				}
				else_if = {
					limit = { has_had_golden_age = yes } 
					reset_golden_age = yes
				}
				else_if = {
					limit = {
						NOT = {
							OR = {
								in_golden_age = yes
								has_had_golden_age = yes
							}
						}
					}
					add_splendor = 800
				}
			}
		}
	}
}

# Chess contest intro - get participants
country_event = {
	id = flavor_toarnen.19
	title = flavor_toarnen.19.t
	desc = flavor_toarnen.19.d
	picture = CULTURE_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			ace_chess_tournament_get_participants = yes
		}
	}

	option = {
		name = flavor_toarnen.19.a

		country_event = {
			id = flavor_toarnen.30
			days = 60
		}
	}
}

# Do you want to participate?
country_event = {
	id = flavor_toarnen.29
	title = flavor_toarnen.29.t
	desc = flavor_toarnen.29.d
	picture = CULTURE_eventPicture

	is_triggered_only = yes

	# yes!
	option = {
		name = flavor_toarnen.29.a

		add_treasury = -50

		set_country_flag = chess_tournament_participant
		set_country_flag = chess_tournament_original_participant
	}

	# no!
	option = {
		name = flavor_toarnen.29.b

		ai_chance = { 
			factor = 0
		}

		random_country = {
			limit = {
				capital_scope = { continent = europe }
				NOT = {
					has_country_flag = chess_tournament_got_invitation
				}
				NOT = { has_country_modifier = monstrous_nation }
			}
			set_country_flag = chess_tournament_got_invitation
			country_event = {
				id = flavor_toarnen.29
				days = 1
			}
		}
	}
}

# Chess contest intro - before first round
country_event = {
	id = flavor_toarnen.30
	title = flavor_toarnen.30.t
	desc = flavor_toarnen.30.d
	picture = CULTURE_eventPicture

	is_triggered_only = yes
	major = yes 

	major_trigger = { 
		has_country_flag = chess_tournament_original_participant
	}

	immediate = {
		hidden_effect = {
			set_variable = {
				which = tmp_var
				value = 0
			}
			every_country = {
				limit = {
					has_country_flag = chess_tournament_participant
				}
				ROOT = {
					change_variable = {
						which = tmp_var
						value = 1
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						which = tmp_var
						value = 16
					}
				}
				set_country_flag = chess_tournament_tmp_flag
				ace_chess_tournament_create_pairs = yes
			}
		}
	}

	# everyone is present
	option = {
		name = flavor_toarnen.30.a
		trigger = {
			has_country_flag = chess_tournament_tmp_flag
		}
		hidden_effect = {
			clr_country_flag = chess_tournament_tmp_flag
		}

		every_country = {
			limit = {
				has_country_flag = chess_tournament_participant
			}

			# choose next move
			country_event = {
				id = flavor_toarnen.20
				days = 60
			}

			# result of next move
			hidden_effect = {
				country_event = {
					id = flavor_toarnen.21
					days = 180
				}
			}
		}

		# next round
		hidden_effect = {
			country_event = {
				id = flavor_toarnen.22
				days = 250
			}
		}
	}

	# try again later
	option = {
		name = flavor_toarnen.30.b
		trigger = {
			NOT = {
				has_country_flag = chess_tournament_tmp_flag
			}
			any_known_country = {
				capital_scope = { continent = europe }
				NOT = {
					has_country_flag = chess_tournament_got_invitation
				}
				NOT = { has_country_modifier = monstrous_nation }
			}
		}
		random_country = {
			limit = {
				capital_scope = { continent = europe }
				NOT = {
					has_country_flag = chess_tournament_got_invitation
				}
				NOT = { has_country_modifier = monstrous_nation }
			}
			set_country_flag = chess_tournament_got_invitation
			country_event = {
				id = flavor_toarnen.29
				days = 1
			}
		}
		
		country_event = {
			id = flavor_toarnen.30
			days = 120
		}
	}

	# not enough contries
	option = {
		name = flavor_toarnen.30.c
		trigger = {
			NOT = {
				has_country_flag = chess_tournament_tmp_flag
			}
			NOT = {
				any_known_country = {
					capital_scope = { continent = europe }
					NOT = {
						has_country_flag = chess_tournament_got_invitation
					}
					NOT = { has_country_modifier = monstrous_nation }
				}
			}
		}
	}
}


# Chess contest round (choose move)
country_event = {
	id = flavor_toarnen.20
	title = flavor_toarnen.20.t
	desc = flavor_toarnen.20.d
	picture = CULTURE_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			ace_chess_tournament_get_your_pair = yes
		}
	}

	#Quill aka ADM
	option = {
		name = flavor_toarnen.20.a
		set_country_flag = chess_tournament_adm_move
		add_adm_power = 1

		ai_chance = { 
			factor = 1 
			modifier = {
				factor = 5
				adm = 3
			}
			modifier = {
				factor = 10
				adm = 4
			}
			modifier = {
				factor = 100
				adm = 5
			}
			modifier = {
				factor = 1000
				adm = 6
			}
		}
	}

	#DIP aka Dove
	option = {
		name = flavor_toarnen.20.b
		set_country_flag = chess_tournament_dip_move
		add_dip_power = 1
		ai_chance = { 
			factor = 1 
			modifier = {
				factor = 5
				dip = 3
			}
			modifier = {
				factor = 10
				dip = 4
			}
			modifier = {
				factor = 100
				dip = 5
			}
			modifier = {
				factor = 1000
				dip = 6
			}
		}
	}

	#MIL aka Sword
	option = {
		name = flavor_toarnen.20.c
		set_country_flag = chess_tournament_mil_move
		add_mil_power = 1
		ai_chance = { 
			factor = 1 
			modifier = {
				factor = 5
				mil = 3
			}
			modifier = {
				factor = 10
				mil = 4
			}
			modifier = {
				factor = 100
				mil = 5
			}
			modifier = {
				factor = 1000
				mil = 6
			}
		}
	}

	option = {
		name = flavor_toarnen.20.dd
		trigger = {
			ruler_has_personality = chess_grandmaster_personality
		}
		highlight = yes
		add_adm_power = 1
		add_dip_power = 1
		add_mil_power = 1
		set_country_flag = chess_tournament_grandmaster
	}
}


# Chess contess round result (for single country)
country_event = {
	id = flavor_toarnen.21
	title = flavor_toarnen.21.t
	desc = flavor_toarnen.21.d
	picture = CULTURE_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = chess_tournament_round_winner
					}
					NOT = {
						has_country_flag = chess_tournament_round_loser
					}
				}
				ace_chess_tournament_get_your_pair = yes
				ace_chess_tournament_get_winner = yes
			}
		}
	}

	option = {
		trigger = {
			has_country_flag = chess_tournament_round_winner
		}
		name = flavor_toarnen.21.a

		add_prestige = 5
	}
	option = {
		trigger = {
			NOT = {
				has_country_flag = chess_tournament_round_winner
			}
		}
		name = flavor_toarnen.21.b

		add_prestige = -5
	}
}




# Chess contest second round begin
country_event = {
	id = flavor_toarnen.22
	title = flavor_toarnen.22.t
	desc = flavor_toarnen.22.d
	picture = CULTURE_eventPicture

	is_triggered_only = yes
	major = yes 

	major_trigger = { 
		has_country_flag = chess_tournament_original_participant
	}

	immediate = {
		hidden_effect = {
			every_country = {
				limit = { has_country_flag = chess_tournament_participant }
				ace_chess_tournament_clear_flags = yes
			}
			every_country = {
				limit = { has_country_flag = chess_tournament_round_winner }
				clr_country_flag = chess_tournament_round_winner
				set_country_flag = chess_tournament_participant
			}
			ace_chess_tournament_create_pairs = yes
		}
	}

	option = {
		name = flavor_toarnen.22.a

		every_country = {
			limit = {
				has_country_flag = chess_tournament_participant
			}

			# choose next move
			country_event = {
				id = flavor_toarnen.20
				days = 60
			}

			# result of next move
			hidden_effect = {
				country_event = {
					id = flavor_toarnen.21
					days = 180
				}
			}
		}

		# next round
		hidden_effect = {
			country_event = {
				id = flavor_toarnen.23
				days = 240
			}
		}
	}
}

# Chess contest third round begin
country_event = {
	id = flavor_toarnen.23
	title = flavor_toarnen.23.t
	desc = flavor_toarnen.23.d
	picture = CULTURE_eventPicture

	is_triggered_only = yes
	major = yes 

	major_trigger = { 
		has_country_flag = chess_tournament_original_participant
	}

	immediate = {
		hidden_effect = {
			every_country = {
				limit = { has_country_flag = chess_tournament_participant }
				ace_chess_tournament_clear_flags = yes
			}
			every_country = {
				limit = { has_country_flag = chess_tournament_round_winner }
				clr_country_flag = chess_tournament_round_winner
				set_country_flag = chess_tournament_participant
			}
			ace_chess_tournament_create_pairs = yes
		}
	}

	option = {
		name = flavor_toarnen.23.a

		every_country = {
			limit = {
				has_country_flag = chess_tournament_participant
			}

			# choose next move
			country_event = {
				id = flavor_toarnen.20
				days = 60
			}

			# result of next move
			hidden_effect = {
				country_event = {
					id = flavor_toarnen.21
					days = 180
				}
			}
		}

		# next round
		hidden_effect = {
			country_event = {
				id = flavor_toarnen.24
				days = 240
			}
		}
	}
}


# Chess contest last round begin
country_event = {
	id = flavor_toarnen.24
	title = flavor_toarnen.24.t
	desc = flavor_toarnen.24.d
	picture = CULTURE_eventPicture

	is_triggered_only = yes
	major = yes 

	major_trigger = { 
		has_country_flag = chess_tournament_original_participant
	}

	immediate = {
		hidden_effect = {
			every_country = {
				limit = { has_country_flag = chess_tournament_participant }
				ace_chess_tournament_clear_flags = yes
			}
			every_country = {
				limit = { has_country_flag = chess_tournament_round_winner }
				clr_country_flag = chess_tournament_round_winner
				set_country_flag = chess_tournament_participant
			}
			ace_chess_tournament_create_pairs = yes
		}
	}

	option = {
		name = flavor_toarnen.24.a

		every_country = {
			limit = {
				has_country_flag = chess_tournament_participant
			}

			# choose next move
			country_event = {
				id = flavor_toarnen.20
				days = 60
			}

			# result of next move
			hidden_effect = {
				country_event = {
					id = flavor_toarnen.21
					days = 180
				}
			}
		}

		# next round
		hidden_effect = {
			country_event = {
				id = flavor_toarnen.25
				days = 240
			}
		}
	}
}


# Chess contest hidden event after last round
country_event = {
	id = flavor_toarnen.25
	title = flavor_toarnen.25.t
	desc = flavor_toarnen.25.d
	picture = CULTURE_eventPicture

	is_triggered_only = yes
	hidden = yes

	immediate = {
		hidden_effect = {
			# second place
			if = {
				limit = {
					any_country = {
						ai = yes
						has_country_flag = chess_tournament_participant 
						NOT = {
							has_country_flag = chess_tournament_round_winner
						}
					}
				}
				random_country = {
					limit = { 
						ai = yes
						has_country_flag = chess_tournament_participant 
						NOT = {
							has_country_flag = chess_tournament_round_winner
						} 
					}
					set_country_flag = chess_tournament_second_place
					country_event = { id = flavor_toarnen.26 }
				}
			}
			else_if = {
				limit = {
					has_country_flag = chess_tournament_participant 
					NOT = {
						has_country_flag = chess_tournament_round_winner
					}
				}
				set_country_flag = chess_tournament_second_place
				country_event = { id = flavor_toarnen.26 }
			}

			# first place
			if = {
				limit = {
					any_country = {
						ai = yes
						has_country_flag = chess_tournament_round_winner
					}
				}
				random_country = {
					limit = { 
						ai = yes
						has_country_flag = chess_tournament_round_winner
					}
					clr_country_flag = chess_tournament_round_winner
					set_country_flag = chess_tournament_first_place
					country_event = { id = flavor_toarnen.27 }
				}
			}
			else_if = {
				limit = { has_country_flag = chess_tournament_round_winner }
				clr_country_flag = chess_tournament_round_winner
				set_country_flag = chess_tournament_first_place
				country_event = { id = flavor_toarnen.27 }
			}

			every_country = {
				limit = { has_country_flag = chess_tournament_participant }
				country_event = {
					id = flavor_toarnen.28
					days = 30
				}
				ace_chess_tournament_clear_flags = yes
			}
			
		}
	}

	option = {
		name = flavor_toarnen.25.a
	}
}


# Chess contest second place event
country_event = {
	id = flavor_toarnen.26
	title = flavor_toarnen.26.t
	desc = flavor_toarnen.26.d
	picture = CULTURE_eventPicture

	is_triggered_only = yes

	option = {
		name = flavor_toarnen.26.a

		add_treasury = 100
		add_dip_power = 50

	}
}

# Chess contest first place event
country_event = {
	id = flavor_toarnen.27
	title = flavor_toarnen.27.t
	desc = flavor_toarnen.27.d
	picture = CULTURE_eventPicture

	is_triggered_only = yes

	major = yes 

	major_trigger = { 
		has_country_flag = chess_tournament_original_participant
	}

	option = {
		name = flavor_toarnen.27.a

		add_treasury = 200
		add_dip_power = 100

		force_add_ruler_personality = { personality = chess_grandmaster_personality }

		hidden_effect = {
			every_country = {
				limit = {
					has_country_flag = chess_tournament_got_invitation
				}
				clr_country_flag = chess_tournament_got_invitation
			}
		}
	}
}

#Chess Ends
country_event = {
	id = flavor_toarnen.28
	title = flavor_toarnen.28.t
	desc = flavor_toarnen.28.d
	picture = CULTURE_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					any_country = {
						ai = yes
						has_country_flag = chess_tournament_first_place
					}
				}
				random_country = {
					limit = {
						ai = yes
						has_country_flag = chess_tournament_first_place
					}
					save_event_target_as = chess_first_place_target
				}
			}
			else_if = {
				limit = {
					has_country_flag = chess_tournament_first_place
				}
				save_event_target_as = chess_first_place_target
			}
			if = {
				limit = {
					any_country = {
						ai = yes
						has_country_flag = chess_tournament_second_place
					}
				}
				random_country = {
					limit = {
						ai = yes
						has_country_flag = chess_tournament_second_place
					}
					save_event_target_as = chess_second_place_target
				}
			}
			else_if = {
				limit = {
					has_country_flag = chess_tournament_second_place
				}
				save_event_target_as = chess_second_place_target
			}
		}
	}

	option = {
		name = flavor_toarnen.28.a

		trigger = {
			NOT = { tag = A57 }
		}

		add_prestige = 5
	}

	option = {
		name = flavor_toarnen.28.b

		trigger = {
			tag = A57
		}
		
		add_prestige = 5
	}

	after = {
		every_country = {
			limit = {
				has_country_flag = chess_tournament_first_place
			}
			clr_country_flag = chess_tournament_first_place
		}
		every_country = {
			limit = {
				has_country_flag = chess_tournament_second_place
			}
			clr_country_flag = chess_tournament_second_place
		}
		clr_country_flag = chess_tournament_original_participant
	}
}

#Roilsardi settlers events
country_event = {
	id = flavor_toarnen.100
	title = flavor_toarnen.100.t
	desc = flavor_toarnen.100.d
	picture = HARBOUR_eventPicture
	hidden = yes
	is_triggered_only = yes
	trigger = {
		has_country_flag = A57_roilsardi_migrations
	}
	option = {
		name = flavor_toarnen.100.a
		random_owned_province = {
			limit = {
				NOT = {
					OR = {
						culture = roilsardi
						has_province_modifier = A57_big_roilsardi_settlement
					}
				}
			}
			province_event = {
				id = flavor_toarnen.101
			}
		}
		if = {
			limit = { has_country_flag = A57_roilsardi_migrations_capital }
			country_event = {
				id = flavor_toarnen.102
				days = 365
			}
 		}
		if = {
			limit = { has_country_flag = A57_edict_unlocked }
			random_owned_province = {
				province_event = {
					id = flavor_toarnen.103
					days = 1095
				}
			}
		}
	}
}

province_event = {
	id = flavor_toarnen.101
	title = flavor_toarnen.101.t
	desc = flavor_toarnen.101.d
	picture = HARBOUR_eventPicture
	
	is_triggered_only = yes

	option = {
		name = flavor_toarnen.101.a
		A57_upgrade_roilsardi_settlement = yes
 	}
}

country_event = {
	id = flavor_toarnen.102
	title = flavor_toarnen.101.t
	desc = flavor_toarnen.102.d
	picture = HARBOUR_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_toarnen.101.a
		random_owned_province = {
			limit = { area = highcliff_area }
			A57_upgrade_roilsardi_settlement = yes
			add_random_development = 1
		}
 	}
}

province_event = {
	id = flavor_toarnen.103
	title = flavor_toarnen.101.t
	desc = flavor_toarnen.101.d
	picture = HARBOUR_eventPicture
	is_triggered_only = yes
	option = {
		name = flavor_toarnen.101.a
		if = {
			limit = {
				culture = roilsardi
				has_province_modifier = A57_big_roilsardi_settlement
			}
			remove_province_modifier = A57_big_roilsardi_settlement
			add_province_modifier = {
				name = A57_roilsardi_home
				duration = -1
			}
		}
		A57_upgrade_roilsardi_settlement = yes
		random_list = {
			25 = {
				add_elven_minority_size_effect = yes
				if = {
					limit = { has_large_elven_minority_trigger = yes }
					add_random_development = 1
				}
			}
			45 = {
				add_half_elven_minority_size_effect = yes
				if = {
					limit = { has_large_half_elven_minority_trigger = yes }
					add_random_development = 1
				}
			}
			30 = { }
		}
		random_area_province = {
            limit = {
                culture = roilsardi
            }
            add_random_development = 1
        }
 	}
}

province_event = {
	id = flavor_toarnen.104
	title = flavor_toarnen.101.t
	desc = flavor_toarnen.101.d
	picture = HARBOUR_eventPicture
	hidden = yes
	is_triggered_only = yes
	option = {
		name = flavor_toarnen.101.a
		if = {
			limit = { NOT = { has_building = farm_estate }}
			add_building = farm_estate
		}
 	}
}

#Roilsardization
country_event = {
	id = flavor_toarnen.200
	title = flavor_toarnen.200.t
	desc = flavor_toarnen.200.d
	picture = DIPLOMACY_eventPicture

	hidden = yes
	is_triggered_only = yes
	trigger = {
		NOT = {
			has_country_flag = A57_roilsardization_end 
		}
	}

	option = {
		name = flavor_toarnen.200.a
		A57_upgrade_roilsardi_larp = yes
 	}
}

#Looting Bulwari cities
country_event = { #Elizna
	id = flavor_toarnen.300
	title = flavor_toarnen.300.t
	desc = flavor_toarnen.300.d
	picture = SURAKES_SUN_GARDEN_eventPicture
	goto = 496
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			496 = {
				clr_province_flag = A57_loot_this_flag
			}
			change_variable = {
				which = A57_looted_bulwar_cities
				value = 1
			}
		}
	}

	option = {
		name = flavor_toarnen.300.a
		U05 = {
			add_country_modifier = {
				name = A57_imperial_fleet_in_shambles
				duration = -1
			}
		}
		496 = {
			add_devastation = 50
			add_base_tax = -3
			add_base_production = -3
			add_base_manpower = -3
			remove_province_modifier = eliznan_sunrise
			remove_province_modifier = U05_eliznan_sunrise_mod
			change_trade_goods = fish
		}
		add_treasury = 300
		add_splendor = 200
		412 = {
			change_trade_goods = tea
			add_permanent_province_modifier = {
				name = A57_toarnen_sunrise
				duration = -1
			}
		}
 	}
}

country_event = { #Brasan
	id = flavor_toarnen.301
	title = flavor_toarnen.300.t
	desc = flavor_toarnen.300.d
	picture = SURAKES_SUN_GARDEN_eventPicture
	goto = 565
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			565 = {
				clr_province_flag = A57_loot_this_flag
			}
			change_variable = {
				which = A57_looted_bulwar_cities
				value = 1
			}
		}
	}

	option = {
		name = flavor_toarnen.300.a
		565 = {
			add_devastation = 50
			add_base_tax = -3
			add_base_production = -3
			add_base_manpower = -3
		}
		add_treasury = 300
		add_splendor = 200
		1309 = {
			add_trade_modifier = {
				who = ROOT
				duration = -1
				power = 25
				key = STRONG_MERCHANTS
			}
		}
 	}
}

country_event = { #Kumarkand
	id = flavor_toarnen.302
	title = flavor_toarnen.300.t
	desc = flavor_toarnen.300.d
	picture = SURAKES_SUN_GARDEN_eventPicture
	goto = 591
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			591 = {
				clr_province_flag = A57_loot_this_flag
			}
			change_variable = {
				which = A57_looted_bulwar_cities
				value = 1
			}
		}
	}

	option = {
		name = flavor_toarnen.300.a
		591 = {
			add_devastation = 50
			add_base_tax = -3
			add_base_production = -3
			add_base_manpower = -3
		}
		add_treasury = 300
		add_splendor = 200
		add_country_modifier = {
			name = A57_wondrous_hemlets
			duration = -1
		}
 	}
}

country_event = { #Bulwar
	id = flavor_toarnen.303
	title = flavor_toarnen.300.t
	desc = flavor_toarnen.300.d
	picture = SURAKES_SUN_GARDEN_eventPicture
	goto = 601
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			601 = {
				clr_province_flag = A57_loot_this_flag
			}
			change_variable = {
				which = A57_looted_bulwar_cities
				value = 1
			}
		}
	}

	option = {
		name = flavor_toarnen.300.a
		601 = {
			add_devastation = 50
			add_base_tax = -3
			add_base_production = -3
			add_base_manpower = -3
			remove_province_triggered_modifier = bulwar_bulwar_temple_modifier
			remove_province_modifier = bulwar_eduz_rakadags
		}
		add_treasury = 300
		add_splendor = 200
		add_adm_power = 50
		add_dip_power = 50
		add_mil_power = 50
		every_known_country = {
			limit = { religion_group = bulwari }
			add_stability = -1
		}
 	}
}

country_event = { #Varamhar magic academy
	id = flavor_toarnen.304
	title = flavor_toarnen.300.t
	desc = flavor_toarnen.300.d
	picture = SURAKES_SUN_GARDEN_eventPicture
	goto = 609
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			609 = {
				clr_province_flag = A57_loot_this_flag
			}
			change_variable = {
				which = A57_looted_bulwar_cities
				value = 1
			}
		}
	}

	option = {
		name = flavor_toarnen.300.a
		609 = {
			add_devastation = 50
			add_base_tax = -3
			add_base_production = -3
			add_base_manpower = -3
			remove_province_modifier = varamhar_the_varamhar_academy
		}
		add_treasury = 300
		add_splendor = 200
		if = {
			limit = { has_heir = yes }
 			set_heir_mage_effect = yes
		}
		else = {
			hidden_effect = {
				define_consort = {
					country_of_origin = ROOT
					religion = ROOT
					culture = ROOT
				}
			}
			country_event = { id = 9469 }
			set_heir_mage_effect = yes
		}
 	}
}

country_event = { #Azkabar
	id = flavor_toarnen.305
	title = flavor_toarnen.300.t
	desc = flavor_toarnen.300.d
	picture = SURAKES_SUN_GARDEN_eventPicture
	goto = 613
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			613 = {
				clr_province_flag = A57_loot_this_flag
			}
			change_variable = {
				which = A57_looted_bulwar_cities
				value = 1
			}
		}
	}

	option = {
		name = flavor_toarnen.300.a
		613 = {
			add_devastation = 50
			add_base_tax = -3
			add_base_production = -3
			add_base_manpower = -3
		}
		add_treasury = 300
		add_splendor = 200
		every_province = {
			limit = { NOT = { owned_by = ROOT } religion_group = bulwari }
			add_unrest = 10
		}
 	}
}

country_event = { #Arashbar
	id = flavor_toarnen.306
	title = flavor_toarnen.300.t
	desc = flavor_toarnen.300.d
	picture = SURAKES_SUN_GARDEN_eventPicture
	goto = 616
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			616 = {
				clr_province_flag = A57_loot_this_flag
			}
			change_variable = {
				which = A57_looted_bulwar_cities
				value = 1
			}
		}
	}

	option = {
		name = flavor_toarnen.300.a
		add_country_modifier = {
			name = A57_crown_of_the_ancients
			duration = -1
		}
		616 = {
			add_devastation = 50
			add_base_tax = -3
			add_base_production = -3
			add_base_manpower = -3
		}
		add_treasury = 300
		add_splendor = 200
 	}
}

country_event = { #Sareyand
	id = flavor_toarnen.307
	title = flavor_toarnen.300.t
	desc = flavor_toarnen.300.d
	picture = SURAKES_SUN_GARDEN_eventPicture
	goto = 625
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			625 = {
				clr_province_flag = A57_loot_this_flag
			}
			change_variable = {
				which = A57_looted_bulwar_cities
				value = 1
			}
		}
	}

	option = {
		name = flavor_toarnen.300.a
		add_country_modifier = {
			name = A57_new_ideas
			duration = -1
		}
		625 = {
			remove_province_modifier = city_of_ideas_sareyand
			add_devastation = 50
			add_base_tax = -3
			add_base_production = -3
			add_base_manpower = -3
		}
		add_treasury = 300
		add_splendor = 200
 	}
}

country_event = { #Eduz-Vacyn
	id = flavor_toarnen.308
	title = flavor_toarnen.300.t
	desc = flavor_toarnen.300.d
	picture = SURAKES_SUN_GARDEN_eventPicture
	goto = 631
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			631 = {
				clr_province_flag = A57_loot_this_flag
			}
			change_variable = {
				which = A57_looted_bulwar_cities
				value = 1
			}
		}
	}

	option = {
		name = flavor_toarnen.300.a
		631 = {
			remove_province_triggered_modifier = bulwar_vacyn_temple_modifier
			add_devastation = 50
			add_base_tax = -3
			add_base_production = -3
			add_base_manpower = -3
		}
		add_treasury = 300
		add_splendor = 200
		add_adm_power = 50
		add_dip_power = 50
		add_mil_power = 50
		every_known_country = {
			limit = { religion_group = bulwari }
			add_stability = -1
		}
 	}
}

country_event = { #Azka-Sur
	id = flavor_toarnen.309
	title = flavor_toarnen.300.t
	desc = flavor_toarnen.300.d
	picture = SURAKES_SUN_GARDEN_eventPicture
	goto = 643
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			643 = {
				clr_province_flag = A57_loot_this_flag
			}
			change_variable = {
				which = A57_looted_bulwar_cities
				value = 1
			}
		}
	}

	option = {
		name = flavor_toarnen.300.a
		643 = {
			remove_province_triggered_modifier = bulwar_confluence_temple_modifier
			add_devastation = 50
			add_base_tax = -3
			add_base_production = -3
			add_base_manpower = -3
		}
		add_treasury = 300
		add_splendor = 200
		add_adm_power = 50
		add_dip_power = 50
		add_mil_power = 50
		every_known_country = {
			limit = { religion_group = bulwari }
			add_stability = -1
		}
 	}
}