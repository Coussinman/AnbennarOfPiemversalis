#Menubar Open Window Icon
custom_window = {
	name = glp_menubar_factions
	potential = {
		FROM = { ai = no }
    	has_global_flag = glp_factions_event_started
	}
}

#Window Opened
custom_window = {
	name = glp_faction_window
	potential = {
		FROM = { ai = no }
		FROM = { has_country_flag = glp_open_factions_window_flag }
    	has_global_flag = glp_factions_event_started
	}
}

custom_icon = {
	name = glp_menubar_factions_bg
    potential = {
	}
}

#Background
custom_icon = {
    name = glp_faction_window_bg
    potential = {
	}
}

custom_button = {
	name = glp_open_factions_window
	potential = {
	}
	trigger = {
	}
	effect = {
		if = {
			limit = {
				FROM = { NOT = { has_country_flag = glp_open_factions_window_flag } }
			}
			FROM = { set_country_flag = glp_open_factions_window_flag }
		}
		else = { 
			FROM = { clr_country_flag = glp_open_factions_window_flag }
		}
	}
	tooltip = glp_open_factions_window_loc
}

#Header text
custom_text_box = {
	name = glp_factions_window_header
	potential = {
	}
}

#Side A Header
custom_text_box = {
	name = glp_factions_sideA_header
	potential = {
	}
}

#Side B Header
custom_text_box = {
	name = glp_factions_sideB_header
	potential = {
	}
}

#Join Side A
custom_button = {
    name = glp_factions_join_sideA
    potential = {
	}
	trigger = {
		FROM = { is_free_or_tributary_trigger = yes }
		custom_trigger_tooltip = {
			tooltip = glp_factions_alrdy_joined_side_tt
			#NOT = {
				#OR = {
					#tag = event_target:glp_target_factions_sideA_1
					#tag = event_target:glp_target_factions_sideA_2
					#tag = event_target:glp_target_factions_sideA_3
					#tag = event_target:glp_target_factions_sideA_4
					#tag = event_target:glp_target_factions_sideA_5
					#tag = event_target:glp_target_factions_sideA_6
					#tag = event_target:glp_target_factions_sideA_7
					#tag = event_target:glp_target_factions_sideA_8
					#tag = event_target:glp_target_factions_sideA_9
					#tag = event_target:glp_target_factions_sideA_10
					#tag = event_target:glp_target_factions_sideA_11
					#tag = event_target:glp_target_factions_sideA_12
					#tag = event_target:glp_target_factions_sideA_13
					#tag = event_target:glp_target_factions_sideA_14
					#tag = event_target:glp_target_factions_sideA_15
					#tag = event_target:glp_target_factions_sideA_16
					#tag = event_target:glp_target_factions_sideA_17
					#tag = event_target:glp_target_factions_sideA_18
					#tag = event_target:glp_target_factions_sideA_19
					#tag = event_target:glp_target_factions_sideA_20
					#tag = event_target:glp_target_factions_sideA_21
					#tag = event_target:glp_target_factions_sideA_22
					#tag = event_target:glp_target_factions_sideA_23
					#tag = event_target:glp_target_factions_sideA_24
				#}
			#}
			FROM = { NOT = { has_country_flag = glp_factions_joined_sideA_flag } }
		}
	}
    effect = {
    	FROM = { clr_country_flag = glp_factions_joined_sideA_flag }
    	FROM = { clr_country_flag = glp_factions_joined_sideB_flag }
    	FROM = { set_country_flag = glp_factions_joined_sideA_flag }
    	#cleanup
        if = {
            limit = {
				#tag = event_target:glp_target_factions_sideB_1
				FROM = { has_country_flag = glp_factions_joined_sideB_1_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_1
    		FROM = { clr_country_flag = glp_factions_joined_sideB_1_flag }
        }
        else_if = {
        	limit = {
				#tag = event_target:glp_target_factions_sideB_2
				FROM = { has_country_flag = glp_factions_joined_sideB_2_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_2
    		FROM = { clr_country_flag = glp_factions_joined_sideB_2_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_3
				FROM = { has_country_flag = glp_factions_joined_sideB_3_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_3
    		FROM = { clr_country_flag = glp_factions_joined_sideB_3_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_4
				FROM = { has_country_flag = glp_factions_joined_sideB_4_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_4
    		FROM = { clr_country_flag = glp_factions_joined_sideB_4_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_5
				FROM = { has_country_flag = glp_factions_joined_sideB_5_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_5
    		FROM = { clr_country_flag = glp_factions_joined_sideB_5_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_6
				FROM = { has_country_flag = glp_factions_joined_sideB_6_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_6
    		FROM = { clr_country_flag = glp_factions_joined_sideB_6_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_7
				FROM = { has_country_flag = glp_factions_joined_sideB_7_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_7
    		FROM = { clr_country_flag = glp_factions_joined_sideB_7_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_8
				FROM = { has_country_flag = glp_factions_joined_sideB_8_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_8
    		FROM = { clr_country_flag = glp_factions_joined_sideB_8_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_9
				FROM = { has_country_flag = glp_factions_joined_sideB_9_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_9
    		FROM = { clr_country_flag = glp_factions_joined_sideB_9_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_10
				FROM = { has_country_flag = glp_factions_joined_sideB_10_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_10
    		FROM = { clr_country_flag = glp_factions_joined_sideB_10_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_11
				FROM = { has_country_flag = glp_factions_joined_sideB_11_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_11
    		FROM = { clr_country_flag = glp_factions_joined_sideB_11_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_12
				FROM = { has_country_flag = glp_factions_joined_sideB_12_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_12
    		FROM = { clr_country_flag = glp_factions_joined_sideB_12_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_13
				FROM = { has_country_flag = glp_factions_joined_sideB_13_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_13
    		FROM = { clr_country_flag = glp_factions_joined_sideB_13_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_14
				FROM = { has_country_flag = glp_factions_joined_sideB_14_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_14
    		FROM = { clr_country_flag = glp_factions_joined_sideB_14_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_15
				FROM = { has_country_flag = glp_factions_joined_sideB_15_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_15
    		FROM = { clr_country_flag = glp_factions_joined_sideB_15_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_16
				FROM = { has_country_flag = glp_factions_joined_sideB_16_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_16
    		FROM = { clr_country_flag = glp_factions_joined_sideB_16_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_17
				FROM = { has_country_flag = glp_factions_joined_sideB_17_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_17
    		FROM = { clr_country_flag = glp_factions_joined_sideB_17_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_18
				FROM = { has_country_flag = glp_factions_joined_sideB_18_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_18
    		FROM = { clr_country_flag = glp_factions_joined_sideB_18_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_19
				FROM = { has_country_flag = glp_factions_joined_sideB_19_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_19
    		FROM = { clr_country_flag = glp_factions_joined_sideB_19_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_20
				FROM = { has_country_flag = glp_factions_joined_sideB_20_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_20
    		FROM = { clr_country_flag = glp_factions_joined_sideB_20_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_21
				FROM = { has_country_flag = glp_factions_joined_sideB_21_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_21
    		FROM = { clr_country_flag = glp_factions_joined_sideB_21_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_22
				FROM = { has_country_flag = glp_factions_joined_sideB_22_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_22
    		FROM = { clr_country_flag = glp_factions_joined_sideB_22_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_23
				FROM = { has_country_flag = glp_factions_joined_sideB_23_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_23
    		FROM = { clr_country_flag = glp_factions_joined_sideB_23_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_24
				FROM = { has_country_flag = glp_factions_joined_sideB_24_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideB_24
    		FROM = { clr_country_flag = glp_factions_joined_sideB_24_flag }
        }
        #Join
        if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_1 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_1_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_1 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_1_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_2 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_2_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_2 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_2_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_3 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_3_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_3 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_3_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_4 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_4_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_4 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_4_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_5 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_5_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_5 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_5_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_6 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_6_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_6 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_6_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_7 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_7_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_7 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_7_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_8 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_8_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_8 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_8_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_9 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_9_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_9 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_9_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_10 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_10_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_10 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_10_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_11 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_11_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_11 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_11_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_12 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_12_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_12 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_12_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_13 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_13_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_13 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_13_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_14 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_14_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_14 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_14_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_15 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_15_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_15 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_15_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_16 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_16_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_16 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_16_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_17 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_17_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_17 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_17_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_18 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_18_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_18 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_18_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_19 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_19_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_19 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_19_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_20 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_20_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_20 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_20_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_21 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_21_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_21 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_21_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_22 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_22_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_22 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_22_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_23 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_23_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_23 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_23_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideA_24 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideA_24_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideA_24 }
    		FROM = { set_country_flag = glp_factions_joined_sideA_24_flag }
        }
	}
	tooltip = glp_factions_join_sideA_loc
}

#Leave faction A
custom_button = {
    name = glp_factions_leave_sideA
    potential = {
	}
	trigger = {
		custom_trigger_tooltip = {
			tooltip = glp_factions_didnt_join_sides_tt
			#OR = {
				#tag = event_target:glp_target_factions_sideA_1
				#tag = event_target:glp_target_factions_sideA_2
				#tag = event_target:glp_target_factions_sideA_3
				#tag = event_target:glp_target_factions_sideA_4
				#tag = event_target:glp_target_factions_sideA_5
				#tag = event_target:glp_target_factions_sideA_6
				#tag = event_target:glp_target_factions_sideA_7
				#tag = event_target:glp_target_factions_sideA_8
				#tag = event_target:glp_target_factions_sideA_9
				#tag = event_target:glp_target_factions_sideA_10
				#tag = event_target:glp_target_factions_sideA_11
				#tag = event_target:glp_target_factions_sideA_12
				#tag = event_target:glp_target_factions_sideA_13
				#tag = event_target:glp_target_factions_sideA_14
				#tag = event_target:glp_target_factions_sideA_15
				#tag = event_target:glp_target_factions_sideA_16
				#tag = event_target:glp_target_factions_sideA_17
				#tag = event_target:glp_target_factions_sideA_18
				#tag = event_target:glp_target_factions_sideA_19
				#tag = event_target:glp_target_factions_sideA_20
				#tag = event_target:glp_target_factions_sideA_21
				#tag = event_target:glp_target_factions_sideA_22
				#tag = event_target:glp_target_factions_sideA_23
				#tag = event_target:glp_target_factions_sideA_24
				#tag = event_target:glp_target_factions_sideB_1
				#tag = event_target:glp_target_factions_sideB_2
				#tag = event_target:glp_target_factions_sideB_3
				#tag = event_target:glp_target_factions_sideB_4
				#tag = event_target:glp_target_factions_sideB_5
				#tag = event_target:glp_target_factions_sideB_6
				#tag = event_target:glp_target_factions_sideB_7
				#tag = event_target:glp_target_factions_sideB_8
				#tag = event_target:glp_target_factions_sideB_9
				#tag = event_target:glp_target_factions_sideB_10
				#tag = event_target:glp_target_factions_sideB_11
				#tag = event_target:glp_target_factions_sideB_12
				#tag = event_target:glp_target_factions_sideB_13
				#tag = event_target:glp_target_factions_sideB_14
				#tag = event_target:glp_target_factions_sideB_15
				#tag = event_target:glp_target_factions_sideB_16
				#tag = event_target:glp_target_factions_sideB_17
				#tag = event_target:glp_target_factions_sideB_18
				#tag = event_target:glp_target_factions_sideB_19
				#tag = event_target:glp_target_factions_sideB_20
				#tag = event_target:glp_target_factions_sideB_21
				#tag = event_target:glp_target_factions_sideB_22
				#tag = event_target:glp_target_factions_sideB_23
				#tag = event_target:glp_target_factions_sideB_24
			#}
			OR = {
				FROM = { has_country_flag = glp_factions_joined_sideA_flag }
				FROM = { has_country_flag = glp_factions_joined_sideB_flag }
			}
		}
	}
    effect = {
    	FROM = { clr_country_flag = glp_factions_joined_sideA_flag }
    	FROM = { clr_country_flag = glp_factions_joined_sideB_flag }
        if = {
            limit = {
				#tag = event_target:glp_target_factions_sideA_1
				FROM = { has_country_flag = glp_factions_joined_sideA_1_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_1
    		FROM = { clr_country_flag = glp_factions_joined_sideA_1_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_2
				FROM = { has_country_flag = glp_factions_joined_sideA_2_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_2
    		FROM = { clr_country_flag = glp_factions_joined_sideA_2_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_3
				FROM = { has_country_flag = glp_factions_joined_sideA_3_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_3
    		FROM = { clr_country_flag = glp_factions_joined_sideA_3_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_4
				FROM = { has_country_flag = glp_factions_joined_sideA_4_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_4
    		FROM = { clr_country_flag = glp_factions_joined_sideA_4_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_5
				FROM = { has_country_flag = glp_factions_joined_sideA_5_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_5
    		FROM = { clr_country_flag = glp_factions_joined_sideA_5_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_6
				FROM = { has_country_flag = glp_factions_joined_sideA_6_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_6
    		FROM = { clr_country_flag = glp_factions_joined_sideA_6_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_7
				FROM = { has_country_flag = glp_factions_joined_sideA_7_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_7
    		FROM = { clr_country_flag = glp_factions_joined_sideA_7_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_8
				FROM = { has_country_flag = glp_factions_joined_sideA_8_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_8
    		FROM = { clr_country_flag = glp_factions_joined_sideA_8_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_9
				FROM = { has_country_flag = glp_factions_joined_sideA_9_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_9
    		FROM = { clr_country_flag = glp_factions_joined_sideA_9_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_10
				FROM = { has_country_flag = glp_factions_joined_sideA_10_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_10
    		FROM = { clr_country_flag = glp_factions_joined_sideA_10_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_11
				FROM = { has_country_flag = glp_factions_joined_sideA_11_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_11
    		FROM = { clr_country_flag = glp_factions_joined_sideA_11_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_12
				FROM = { has_country_flag = glp_factions_joined_sideA_12_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_12
    		FROM = { clr_country_flag = glp_factions_joined_sideA_12_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_13
				FROM = { has_country_flag = glp_factions_joined_sideA_13_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_13
    		FROM = { clr_country_flag = glp_factions_joined_sideA_13_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_14
				FROM = { has_country_flag = glp_factions_joined_sideA_14_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_14
    		FROM = { clr_country_flag = glp_factions_joined_sideA_14_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_15
				FROM = { has_country_flag = glp_factions_joined_sideA_15_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_15
    		FROM = { clr_country_flag = glp_factions_joined_sideA_15_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_16
				FROM = { has_country_flag = glp_factions_joined_sideA_16_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_16
    		FROM = { clr_country_flag = glp_factions_joined_sideA_16_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_17
				FROM = { has_country_flag = glp_factions_joined_sideA_17_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_17
    		FROM = { clr_country_flag = glp_factions_joined_sideA_17_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_18
				FROM = { has_country_flag = glp_factions_joined_sideA_18_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_18
    		FROM = { clr_country_flag = glp_factions_joined_sideA_18_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_19
				FROM = { has_country_flag = glp_factions_joined_sideA_19_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_19
    		FROM = { clr_country_flag = glp_factions_joined_sideA_19_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_20
				FROM = { has_country_flag = glp_factions_joined_sideA_20_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_20
    		FROM = { clr_country_flag = glp_factions_joined_sideA_20_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_21
				FROM = { has_country_flag = glp_factions_joined_sideA_21_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_21
    		FROM = { clr_country_flag = glp_factions_joined_sideA_21_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_22
				FROM = { has_country_flag = glp_factions_joined_sideA_22_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_22
    		FROM = { clr_country_flag = glp_factions_joined_sideA_22_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_23
				FROM = { has_country_flag = glp_factions_joined_sideA_23_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_23
    		FROM = { clr_country_flag = glp_factions_joined_sideA_23_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_24
				FROM = { has_country_flag = glp_factions_joined_sideA_24_flag }
        	}
            clear_global_event_target = glp_target_factions_sideA_24
    		FROM = { clr_country_flag = glp_factions_joined_sideA_24_flag }
        }
        if = {
            limit = {
				#tag = event_target:glp_target_factions_sideB_1
				FROM = { has_country_flag = glp_factions_joined_sideB_1_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_1
    		FROM = { clr_country_flag = glp_factions_joined_sideB_1_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_2
				FROM = { has_country_flag = glp_factions_joined_sideB_2_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_2
    		FROM = { clr_country_flag = glp_factions_joined_sideB_2_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_3
				FROM = { has_country_flag = glp_factions_joined_sideB_3_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_3
    		FROM = { clr_country_flag = glp_factions_joined_sideB_3_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_4
				FROM = { has_country_flag = glp_factions_joined_sideB_4_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_4
    		FROM = { clr_country_flag = glp_factions_joined_sideB_4_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_5
				FROM = { has_country_flag = glp_factions_joined_sideB_5_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_5
    		FROM = { clr_country_flag = glp_factions_joined_sideB_5_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_6
				FROM = { has_country_flag = glp_factions_joined_sideB_6_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_6
    		FROM = { clr_country_flag = glp_factions_joined_sideB_6_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_7
				FROM = { has_country_flag = glp_factions_joined_sideB_7_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_7
    		FROM = { clr_country_flag = glp_factions_joined_sideB_7_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_8
				FROM = { has_country_flag = glp_factions_joined_sideB_8_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_8
    		FROM = { clr_country_flag = glp_factions_joined_sideB_8_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_9
				FROM = { has_country_flag = glp_factions_joined_sideB_9_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_9
    		FROM = { clr_country_flag = glp_factions_joined_sideB_9_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_10
				FROM = { has_country_flag = glp_factions_joined_sideB_10_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_10
    		FROM = { clr_country_flag = glp_factions_joined_sideB_10_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_11
				FROM = { has_country_flag = glp_factions_joined_sideB_11_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_11
    		FROM = { clr_country_flag = glp_factions_joined_sideB_11_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_12
				FROM = { has_country_flag = glp_factions_joined_sideB_12_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_12
    		FROM = { clr_country_flag = glp_factions_joined_sideB_12_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_13
				FROM = { has_country_flag = glp_factions_joined_sideB_13_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_13
    		FROM = { clr_country_flag = glp_factions_joined_sideB_13_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_14
				FROM = { has_country_flag = glp_factions_joined_sideB_14_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_14
    		FROM = { clr_country_flag = glp_factions_joined_sideB_14_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_15
				FROM = { has_country_flag = glp_factions_joined_sideB_15_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_15
    		FROM = { clr_country_flag = glp_factions_joined_sideB_15_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_16
				FROM = { has_country_flag = glp_factions_joined_sideB_16_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_16
    		FROM = { clr_country_flag = glp_factions_joined_sideB_16_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_17
				FROM = { has_country_flag = glp_factions_joined_sideB_17_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_17
    		FROM = { clr_country_flag = glp_factions_joined_sideB_17_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_18
				FROM = { has_country_flag = glp_factions_joined_sideB_18_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_18
    		FROM = { clr_country_flag = glp_factions_joined_sideB_18_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_19
				FROM = { has_country_flag = glp_factions_joined_sideB_19_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_19
    		FROM = { clr_country_flag = glp_factions_joined_sideB_19_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_20
				FROM = { has_country_flag = glp_factions_joined_sideB_20_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_20
    		FROM = { clr_country_flag = glp_factions_joined_sideB_20_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_21
				FROM = { has_country_flag = glp_factions_joined_sideB_21_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_21
    		FROM = { clr_country_flag = glp_factions_joined_sideB_21_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_22
				FROM = { has_country_flag = glp_factions_joined_sideB_22_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_22
    		FROM = { clr_country_flag = glp_factions_joined_sideB_22_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_23
				FROM = { has_country_flag = glp_factions_joined_sideB_23_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_23
    		FROM = { clr_country_flag = glp_factions_joined_sideB_23_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideB_24
				FROM = { has_country_flag = glp_factions_joined_sideB_24_flag }
        	}
            clear_global_event_target = glp_target_factions_sideB_24
    		FROM = { clr_country_flag = glp_factions_joined_sideB_24_flag }
        }
	}
	tooltip = glp_factions_leave_sideA_loc
}

#Join Side B
custom_button = {
    name = glp_factions_join_sideB
    potential = {
	}
	trigger = {
		FROM = { is_free_or_tributary_trigger = yes }
		custom_trigger_tooltip = {
			tooltip = glp_factions_alrdy_joined_side_tt
			#NOT = {
				#OR = {
					#tag = event_target:glp_target_factions_sideB_1
					#tag = event_target:glp_target_factions_sideB_2
					#tag = event_target:glp_target_factions_sideB_3
					#tag = event_target:glp_target_factions_sideB_4
					#tag = event_target:glp_target_factions_sideB_5
					#tag = event_target:glp_target_factions_sideB_6
					#tag = event_target:glp_target_factions_sideB_7
					#tag = event_target:glp_target_factions_sideB_8
					#tag = event_target:glp_target_factions_sideB_9
					#tag = event_target:glp_target_factions_sideB_10
					#tag = event_target:glp_target_factions_sideB_11
					#tag = event_target:glp_target_factions_sideB_12
					#tag = event_target:glp_target_factions_sideB_13
					#tag = event_target:glp_target_factions_sideB_14
					#tag = event_target:glp_target_factions_sideB_15
					#tag = event_target:glp_target_factions_sideB_16
					#tag = event_target:glp_target_factions_sideB_17
					#tag = event_target:glp_target_factions_sideB_18
					#tag = event_target:glp_target_factions_sideB_19
					#tag = event_target:glp_target_factions_sideB_20
					#tag = event_target:glp_target_factions_sideB_21
					#tag = event_target:glp_target_factions_sideB_22
					#tag = event_target:glp_target_factions_sideB_23
					#tag = event_target:glp_target_factions_sideB_24
				#}
			#}
			FROM = { NOT = { has_country_flag = glp_factions_joined_sideB_flag } }
		}
	}
    effect = {
    	FROM = { clr_country_flag = glp_factions_joined_sideA_flag }
    	FROM = { clr_country_flag = glp_factions_joined_sideB_flag }
    	FROM = { set_country_flag = glp_factions_joined_sideB_flag }
    	#cleanup
        if = {
            limit = {
				#tag = event_target:glp_target_factions_sideA_1
				FROM = { has_country_flag = glp_factions_joined_sideA_1_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_1
    		FROM = { clr_country_flag = glp_factions_joined_sideA_1_flag }
        }
        else_if = {
        	limit = {
				#tag = event_target:glp_target_factions_sideA_2
				FROM = { has_country_flag = glp_factions_joined_sideA_2_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_2
    		FROM = { clr_country_flag = glp_factions_joined_sideA_2_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_3
				FROM = { has_country_flag = glp_factions_joined_sideA_3_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_3
    		FROM = { clr_country_flag = glp_factions_joined_sideA_3_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_4
				FROM = { has_country_flag = glp_factions_joined_sideA_4_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_4
    		FROM = { clr_country_flag = glp_factions_joined_sideA_4_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_5
				FROM = { has_country_flag = glp_factions_joined_sideA_5_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_5
    		FROM = { clr_country_flag = glp_factions_joined_sideA_5_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_6
				FROM = { has_country_flag = glp_factions_joined_sideA_6_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_6
    		FROM = { clr_country_flag = glp_factions_joined_sideA_6_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_7
				FROM = { has_country_flag = glp_factions_joined_sideA_7_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_7
    		FROM = { clr_country_flag = glp_factions_joined_sideA_7_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_8
				FROM = { has_country_flag = glp_factions_joined_sideA_8_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_8
    		FROM = { clr_country_flag = glp_factions_joined_sideA_8_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_9
				FROM = { has_country_flag = glp_factions_joined_sideA_9_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_9
    		FROM = { clr_country_flag = glp_factions_joined_sideA_9_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_10
				FROM = { has_country_flag = glp_factions_joined_sideA_10_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_10
    		FROM = { clr_country_flag = glp_factions_joined_sideA_10_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_11
				FROM = { has_country_flag = glp_factions_joined_sideA_11_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_11
    		FROM = { clr_country_flag = glp_factions_joined_sideA_11_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_12
				FROM = { has_country_flag = glp_factions_joined_sideA_12_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_12
    		FROM = { clr_country_flag = glp_factions_joined_sideA_12_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_13
				FROM = { has_country_flag = glp_factions_joined_sideA_13_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_13
    		FROM = { clr_country_flag = glp_factions_joined_sideA_13_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_14
				FROM = { has_country_flag = glp_factions_joined_sideA_14_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_14
    		FROM = { clr_country_flag = glp_factions_joined_sideA_14_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_15
				FROM = { has_country_flag = glp_factions_joined_sideA_15_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_15
    		FROM = { clr_country_flag = glp_factions_joined_sideA_15_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_16
				FROM = { has_country_flag = glp_factions_joined_sideA_16_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_16
    		FROM = { clr_country_flag = glp_factions_joined_sideA_16_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_17
				FROM = { has_country_flag = glp_factions_joined_sideA_17_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_17
    		FROM = { clr_country_flag = glp_factions_joined_sideA_17_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_18
				FROM = { has_country_flag = glp_factions_joined_sideA_18_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_18
    		FROM = { clr_country_flag = glp_factions_joined_sideA_18_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_19
				FROM = { has_country_flag = glp_factions_joined_sideA_19_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_19
    		FROM = { clr_country_flag = glp_factions_joined_sideA_19_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_20
				FROM = { has_country_flag = glp_factions_joined_sideA_20_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_20
    		FROM = { clr_country_flag = glp_factions_joined_sideA_20_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_21
				FROM = { has_country_flag = glp_factions_joined_sideA_21_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_21
    		FROM = { clr_country_flag = glp_factions_joined_sideA_21_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_22
				FROM = { has_country_flag = glp_factions_joined_sideA_22_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_22
    		FROM = { clr_country_flag = glp_factions_joined_sideA_22_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_23
				FROM = { has_country_flag = glp_factions_joined_sideA_23_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_23
    		FROM = { clr_country_flag = glp_factions_joined_sideA_23_flag }
        }
        else_if = {
        	limit = {
        		#tag = event_target:glp_target_factions_sideA_24
				FROM = { has_country_flag = glp_factions_joined_sideA_24_flag }
        	}
          	clear_global_event_target = glp_target_factions_sideA_24
    		FROM = { clr_country_flag = glp_factions_joined_sideA_24_flag }
        }
        #Join
        if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_1 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_1_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_1 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_1_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_2 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_2_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_2 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_2_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_3 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_3_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_3 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_3_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_4 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_4_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_4 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_4_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_5 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_5_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_5 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_5_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_6 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_6_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_6 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_6_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_7 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_7_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_7 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_7_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_8 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_8_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_8 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_8_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_9 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_9_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_9 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_9_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_10 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_10_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_10 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_10_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_11 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_11_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_11 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_11_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_12 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_12_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_12 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_12_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_13 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_13_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_13 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_13_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_14 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_14_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_14 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_14_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_15 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_15_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_15 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_15_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_16 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_16_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_16 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_16_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_17 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_17_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_17 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_17_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_18 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_18_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_18 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_18_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_19 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_19_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_19 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_19_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_20 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_20_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_20 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_20_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_21 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_21_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_21 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_21_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_22 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_22_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_22 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_22_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_23 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_23_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_23 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_23_flag }
        }
        else_if = {
            limit = {
            	#NOT = { any_country = { has_saved_global_event_target = glp_target_factions_sideB_24 } }
            	NOT = { any_country = { has_country_flag = glp_factions_joined_sideB_24_flag } }
            }
            FROM = { save_global_event_target_as = glp_target_factions_sideB_24 }
    		FROM = { set_country_flag = glp_factions_joined_sideB_24_flag }
        }
	}
	tooltip = glp_factions_join_sideB_loc
}

#Leave faction B
custom_button = {
    name = glp_factions_leave_sideB
    potential = {
	}
    trigger = {
        custom_trigger_tooltip = {
            tooltip = glp_factions_didnt_join_sides_tt
            #OR = {
                #tag = event_target:glp_target_factions_sideA_1
                #tag = event_target:glp_target_factions_sideA_2
                #tag = event_target:glp_target_factions_sideA_3
                #tag = event_target:glp_target_factions_sideA_4
                #tag = event_target:glp_target_factions_sideA_5
                #tag = event_target:glp_target_factions_sideA_6
                #tag = event_target:glp_target_factions_sideA_7
                #tag = event_target:glp_target_factions_sideA_8
                #tag = event_target:glp_target_factions_sideA_9
                #tag = event_target:glp_target_factions_sideA_10
                #tag = event_target:glp_target_factions_sideA_11
                #tag = event_target:glp_target_factions_sideA_12
                #tag = event_target:glp_target_factions_sideA_13
                #tag = event_target:glp_target_factions_sideA_14
                #tag = event_target:glp_target_factions_sideA_15
                #tag = event_target:glp_target_factions_sideA_16
                #tag = event_target:glp_target_factions_sideA_17
                #tag = event_target:glp_target_factions_sideA_18
                #tag = event_target:glp_target_factions_sideA_19
                #tag = event_target:glp_target_factions_sideA_20
                #tag = event_target:glp_target_factions_sideA_21
                #tag = event_target:glp_target_factions_sideA_22
                #tag = event_target:glp_target_factions_sideA_23
                #tag = event_target:glp_target_factions_sideA_24
                #tag = event_target:glp_target_factions_sideB_1
                #tag = event_target:glp_target_factions_sideB_2
                #tag = event_target:glp_target_factions_sideB_3
                #tag = event_target:glp_target_factions_sideB_4
                #tag = event_target:glp_target_factions_sideB_5
                #tag = event_target:glp_target_factions_sideB_6
                #tag = event_target:glp_target_factions_sideB_7
                #tag = event_target:glp_target_factions_sideB_8
                #tag = event_target:glp_target_factions_sideB_9
                #tag = event_target:glp_target_factions_sideB_10
                #tag = event_target:glp_target_factions_sideB_11
                #tag = event_target:glp_target_factions_sideB_12
                #tag = event_target:glp_target_factions_sideB_13
                #tag = event_target:glp_target_factions_sideB_14
                #tag = event_target:glp_target_factions_sideB_15
                #tag = event_target:glp_target_factions_sideB_16
                #tag = event_target:glp_target_factions_sideB_17
                #tag = event_target:glp_target_factions_sideB_18
                #tag = event_target:glp_target_factions_sideB_19
                #tag = event_target:glp_target_factions_sideB_20
                #tag = event_target:glp_target_factions_sideB_21
                #tag = event_target:glp_target_factions_sideB_22
                #tag = event_target:glp_target_factions_sideB_23
                #tag = event_target:glp_target_factions_sideB_24
            #}
            OR = {
                FROM = { has_country_flag = glp_factions_joined_sideA_flag }
                FROM = { has_country_flag = glp_factions_joined_sideB_flag }
            }
        }
    }
    effect = {
        FROM = { clr_country_flag = glp_factions_joined_sideA_flag }
        FROM = { clr_country_flag = glp_factions_joined_sideB_flag }
        if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_1
                FROM = { has_country_flag = glp_factions_joined_sideA_1_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_1
            FROM = { clr_country_flag = glp_factions_joined_sideA_1_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_2
                FROM = { has_country_flag = glp_factions_joined_sideA_2_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_2
            FROM = { clr_country_flag = glp_factions_joined_sideA_2_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_3
                FROM = { has_country_flag = glp_factions_joined_sideA_3_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_3
            FROM = { clr_country_flag = glp_factions_joined_sideA_3_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_4
                FROM = { has_country_flag = glp_factions_joined_sideA_4_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_4
            FROM = { clr_country_flag = glp_factions_joined_sideA_4_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_5
                FROM = { has_country_flag = glp_factions_joined_sideA_5_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_5
            FROM = { clr_country_flag = glp_factions_joined_sideA_5_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_6
                FROM = { has_country_flag = glp_factions_joined_sideA_6_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_6
            FROM = { clr_country_flag = glp_factions_joined_sideA_6_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_7
                FROM = { has_country_flag = glp_factions_joined_sideA_7_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_7
            FROM = { clr_country_flag = glp_factions_joined_sideA_7_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_8
                FROM = { has_country_flag = glp_factions_joined_sideA_8_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_8
            FROM = { clr_country_flag = glp_factions_joined_sideA_8_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_9
                FROM = { has_country_flag = glp_factions_joined_sideA_9_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_9
            FROM = { clr_country_flag = glp_factions_joined_sideA_9_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_10
                FROM = { has_country_flag = glp_factions_joined_sideA_10_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_10
            FROM = { clr_country_flag = glp_factions_joined_sideA_10_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_11
                FROM = { has_country_flag = glp_factions_joined_sideA_11_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_11
            FROM = { clr_country_flag = glp_factions_joined_sideA_11_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_12
                FROM = { has_country_flag = glp_factions_joined_sideA_12_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_12
            FROM = { clr_country_flag = glp_factions_joined_sideA_12_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_13
                FROM = { has_country_flag = glp_factions_joined_sideA_13_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_13
            FROM = { clr_country_flag = glp_factions_joined_sideA_13_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_14
                FROM = { has_country_flag = glp_factions_joined_sideA_14_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_14
            FROM = { clr_country_flag = glp_factions_joined_sideA_14_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_15
                FROM = { has_country_flag = glp_factions_joined_sideA_15_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_15
            FROM = { clr_country_flag = glp_factions_joined_sideA_15_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_16
                FROM = { has_country_flag = glp_factions_joined_sideA_16_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_16
            FROM = { clr_country_flag = glp_factions_joined_sideA_16_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_17
                FROM = { has_country_flag = glp_factions_joined_sideA_17_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_17
            FROM = { clr_country_flag = glp_factions_joined_sideA_17_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_18
                FROM = { has_country_flag = glp_factions_joined_sideA_18_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_18
            FROM = { clr_country_flag = glp_factions_joined_sideA_18_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_19
                FROM = { has_country_flag = glp_factions_joined_sideA_19_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_19
            FROM = { clr_country_flag = glp_factions_joined_sideA_19_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_20
                FROM = { has_country_flag = glp_factions_joined_sideA_20_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_20
            FROM = { clr_country_flag = glp_factions_joined_sideA_20_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_21
                FROM = { has_country_flag = glp_factions_joined_sideA_21_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_21
            FROM = { clr_country_flag = glp_factions_joined_sideA_21_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_22
                FROM = { has_country_flag = glp_factions_joined_sideA_22_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_22
            FROM = { clr_country_flag = glp_factions_joined_sideA_22_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_23
                FROM = { has_country_flag = glp_factions_joined_sideA_23_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_23
            FROM = { clr_country_flag = glp_factions_joined_sideA_23_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideA_24
                FROM = { has_country_flag = glp_factions_joined_sideA_24_flag }
            }
            clear_global_event_target = glp_target_factions_sideA_24
            FROM = { clr_country_flag = glp_factions_joined_sideA_24_flag }
        }
        if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_1
                FROM = { has_country_flag = glp_factions_joined_sideB_1_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_1
            FROM = { clr_country_flag = glp_factions_joined_sideB_1_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_2
                FROM = { has_country_flag = glp_factions_joined_sideB_2_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_2
            FROM = { clr_country_flag = glp_factions_joined_sideB_2_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_3
                FROM = { has_country_flag = glp_factions_joined_sideB_3_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_3
            FROM = { clr_country_flag = glp_factions_joined_sideB_3_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_4
                FROM = { has_country_flag = glp_factions_joined_sideB_4_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_4
            FROM = { clr_country_flag = glp_factions_joined_sideB_4_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_5
                FROM = { has_country_flag = glp_factions_joined_sideB_5_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_5
            FROM = { clr_country_flag = glp_factions_joined_sideB_5_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_6
                FROM = { has_country_flag = glp_factions_joined_sideB_6_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_6
            FROM = { clr_country_flag = glp_factions_joined_sideB_6_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_7
                FROM = { has_country_flag = glp_factions_joined_sideB_7_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_7
            FROM = { clr_country_flag = glp_factions_joined_sideB_7_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_8
                FROM = { has_country_flag = glp_factions_joined_sideB_8_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_8
            FROM = { clr_country_flag = glp_factions_joined_sideB_8_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_9
                FROM = { has_country_flag = glp_factions_joined_sideB_9_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_9
            FROM = { clr_country_flag = glp_factions_joined_sideB_9_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_10
                FROM = { has_country_flag = glp_factions_joined_sideB_10_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_10
            FROM = { clr_country_flag = glp_factions_joined_sideB_10_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_11
                FROM = { has_country_flag = glp_factions_joined_sideB_11_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_11
            FROM = { clr_country_flag = glp_factions_joined_sideB_11_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_12
                FROM = { has_country_flag = glp_factions_joined_sideB_12_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_12
            FROM = { clr_country_flag = glp_factions_joined_sideB_12_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_13
                FROM = { has_country_flag = glp_factions_joined_sideB_13_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_13
            FROM = { clr_country_flag = glp_factions_joined_sideB_13_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_14
                FROM = { has_country_flag = glp_factions_joined_sideB_14_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_14
            FROM = { clr_country_flag = glp_factions_joined_sideB_14_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_15
                FROM = { has_country_flag = glp_factions_joined_sideB_15_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_15
            FROM = { clr_country_flag = glp_factions_joined_sideB_15_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_16
                FROM = { has_country_flag = glp_factions_joined_sideB_16_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_16
            FROM = { clr_country_flag = glp_factions_joined_sideB_16_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_17
                FROM = { has_country_flag = glp_factions_joined_sideB_17_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_17
            FROM = { clr_country_flag = glp_factions_joined_sideB_17_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_18
                FROM = { has_country_flag = glp_factions_joined_sideB_18_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_18
            FROM = { clr_country_flag = glp_factions_joined_sideB_18_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_19
                FROM = { has_country_flag = glp_factions_joined_sideB_19_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_19
            FROM = { clr_country_flag = glp_factions_joined_sideB_19_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_20
                FROM = { has_country_flag = glp_factions_joined_sideB_20_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_20
            FROM = { clr_country_flag = glp_factions_joined_sideB_20_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_21
                FROM = { has_country_flag = glp_factions_joined_sideB_21_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_21
            FROM = { clr_country_flag = glp_factions_joined_sideB_21_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_22
                FROM = { has_country_flag = glp_factions_joined_sideB_22_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_22
            FROM = { clr_country_flag = glp_factions_joined_sideB_22_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_23
                FROM = { has_country_flag = glp_factions_joined_sideB_23_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_23
            FROM = { clr_country_flag = glp_factions_joined_sideB_23_flag }
        }
        else_if = {
            limit = {
                #tag = event_target:glp_target_factions_sideB_24
                FROM = { has_country_flag = glp_factions_joined_sideB_24_flag }
            }
            clear_global_event_target = glp_target_factions_sideB_24
            FROM = { clr_country_flag = glp_factions_joined_sideB_24_flag }
        }
    }
	tooltip = glp_factions_leave_sideA_loc
}


#close
custom_button = {
    name = glp_faction_window_close_button
    potential = {
	}
    effect = {
		FROM = { clr_country_flag = glp_open_factions_window_flag }
	}
}

#########################################
#		SHIELDS
#########################################
custom_icon = {
	name = glp_factions_sideA_shield_1_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_1
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_1
	}
    #tooltip = glp_factions_sideA_1_shield_loc
    global_event_target = glp_target_factions_sideA_1
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_2_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_2
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_2
	}
    #tooltip = glp_factions_sideA_2_shield_loc
    global_event_target = glp_target_factions_sideA_2
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_3_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_3
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_3
	}
    #tooltip = glp_factions_sideA_3_shield_loc
    global_event_target = glp_target_factions_sideA_3
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_4_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_4
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_4
	}
    #tooltip = glp_factions_sideA_4_shield_loc
    global_event_target = glp_target_factions_sideA_4
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_5_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_5
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_5
	}
    #tooltip = glp_factions_sideA_5_shield_loc
    global_event_target = glp_target_factions_sideA_5
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_6_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_6
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_6
	}
    #tooltip = glp_factions_sideA_6_shield_loc
    global_event_target = glp_target_factions_sideA_6
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_7_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_7
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_7
	}
    #tooltip = glp_factions_sideA_7_shield_loc
    global_event_target = glp_target_factions_sideA_7
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_8_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_8
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_8
	}
    #tooltip = glp_factions_sideA_8_shield_loc
    global_event_target = glp_target_factions_sideA_8
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_9_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_9
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_9
	}
    #tooltip = glp_factions_sideA_9_shield_loc
    global_event_target = glp_target_factions_sideA_9
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_10_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_10
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_10
	}
    #tooltip = glp_factions_sideA_10_shield_loc
    global_event_target = glp_target_factions_sideA_10
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_11_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_11
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_11
	}
    #tooltip = glp_factions_sideA_11_shield_loc
    global_event_target = glp_target_factions_sideA_11
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_12_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_12
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_12
	}
    #tooltip = glp_factions_sideA_12_shield_loc
    global_event_target = glp_target_factions_sideA_12
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_13_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_13
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_13
	}
    #tooltip = glp_factions_sideA_13_shield_loc
    global_event_target = glp_target_factions_sideA_13
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_14_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_14
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_14
	}
    #tooltip = glp_factions_sideA_14_shield_loc
    global_event_target = glp_target_factions_sideA_14
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_15_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_15
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_15
	}
    #tooltip = glp_factions_sideA_15_shield_loc
    global_event_target = glp_target_factions_sideA_15
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_16_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_16
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_16
	}
    #tooltip = glp_factions_sideA_16_shield_loc
    global_event_target = glp_target_factions_sideA_16
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_17_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_17
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_17
	}
    #tooltip = glp_factions_sideA_17_shield_loc
    global_event_target = glp_target_factions_sideA_17
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_18_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_18
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_18
	}
    #tooltip = glp_factions_sideA_18_shield_loc
    global_event_target = glp_target_factions_sideA_18
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_19_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_19
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_19
	}
    #tooltip = glp_factions_sideA_19_shield_loc
    global_event_target = glp_target_factions_sideA_19
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_20_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_20
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_20
	}
    #tooltip = glp_factions_sideA_20_shield_loc
    global_event_target = glp_target_factions_sideA_20
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_21_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_21
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_21
	}
    #tooltip = glp_factions_sideA_21_shield_loc
    global_event_target = glp_target_factions_sideA_21
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_22_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_22
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_22
	}
    #tooltip = glp_factions_sideA_22_shield_loc
    global_event_target = glp_target_factions_sideA_22
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_23_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_23
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_23
	}
    #tooltip = glp_factions_sideA_23_shield_loc
    global_event_target = glp_target_factions_sideA_23
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideA_shield_24_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideA_shield_24
    potential = {
		has_saved_global_event_target = glp_target_factions_sideA_24
	}
    #tooltip = glp_factions_sideA_24_shield_loc
    global_event_target = glp_target_factions_sideA_24
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_1_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_1
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_1
	}
    #tooltip = glp_factions_sideB_1_shield_loc
    global_event_target = glp_target_factions_sideB_1
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_2_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_2
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_2
	}
    #tooltip = glp_factions_sideB_2_shield_loc
    global_event_target = glp_target_factions_sideB_2
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_3_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_3
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_3
	}
    #tooltip = glp_factions_sideB_3_shield_loc
    global_event_target = glp_target_factions_sideB_3
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_4_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_4
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_4
	}
    #tooltip = glp_factions_sideB_4_shield_loc
    global_event_target = glp_target_factions_sideB_4
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_5_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_5
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_5
	}
    #tooltip = glp_factions_sideB_5_shield_loc
    global_event_target = glp_target_factions_sideB_5
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_6_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_6
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_6
	}
    #tooltip = glp_factions_sideB_6_shield_loc
    global_event_target = glp_target_factions_sideB_6
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_7_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_7
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_7
	}
    #tooltip = glp_factions_sideB_7_shield_loc
    global_event_target = glp_target_factions_sideB_7
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_8_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_8
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_8
	}
    #tooltip = glp_factions_sideB_8_shield_loc
    global_event_target = glp_target_factions_sideB_8
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_9_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_9
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_9
	}
    #tooltip = glp_factions_sideB_9_shield_loc
    global_event_target = glp_target_factions_sideB_9
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_10_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_10
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_10
	}
    #tooltip = glp_factions_sideB_10_shield_loc
    global_event_target = glp_target_factions_sideB_10
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_11_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_11
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_11
	}
    #tooltip = glp_factions_sideB_11_shield_loc
    global_event_target = glp_target_factions_sideB_11
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_12_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_12
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_12
	}
    #tooltip = glp_factions_sideB_12_shield_loc
    global_event_target = glp_target_factions_sideB_12
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_13_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_13
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_13
	}
    #tooltip = glp_factions_sideB_13_shield_loc
    global_event_target = glp_target_factions_sideB_13
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_14_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_14
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_14
	}
    #tooltip = glp_factions_sideB_14_shield_loc
    global_event_target = glp_target_factions_sideB_14
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_15_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_15
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_15
	}
    #tooltip = glp_factions_sideB_15_shield_loc
    global_event_target = glp_target_factions_sideB_15
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_16_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_16
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_16
	}
    #tooltip = glp_factions_sideB_16_shield_loc
    global_event_target = glp_target_factions_sideB_16
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_17_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_17
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_17
	}
    #tooltip = glp_factions_sideB_17_shield_loc
    global_event_target = glp_target_factions_sideB_17
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_18_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_18
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_18
	}
    #tooltip = glp_factions_sideB_18_shield_loc
    global_event_target = glp_target_factions_sideB_18
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_19_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_19
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_19
	}
    #tooltip = glp_factions_sideB_19_shield_loc
    global_event_target = glp_target_factions_sideB_19
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_20_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_20
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_20
	}
    #tooltip = glp_factions_sideB_20_shield_loc
    global_event_target = glp_target_factions_sideB_20
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_21_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_21
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_21
	}
    #tooltip = glp_factions_sideB_21_shield_loc
    global_event_target = glp_target_factions_sideB_21
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_22_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_22
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_22
	}
    #tooltip = glp_factions_sideB_22_shield_loc
    global_event_target = glp_target_factions_sideB_22
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_23_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_23
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_23
	}
    #tooltip = glp_factions_sideB_23_shield_loc
    global_event_target = glp_target_factions_sideB_23
    open_country = yes
}

custom_icon = {
	name = glp_factions_sideB_shield_24_empty
    potential = {
	}
}

custom_shield = {
	name = glp_factions_sideB_shield_24
    potential = {
		has_saved_global_event_target = glp_target_factions_sideB_24
	}
    #tooltip = glp_factions_sideB_24_shield_loc
    global_event_target = glp_target_factions_sideB_24
    open_country = yes
}